<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUBAT RESILIENT HOUSING - Resilient Housing Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-dark: #1e2f4f;
            --secondary-dark: #3e6778;
            --accent-color: #d87163;
            --accent-light: #f08c5b;
            --highlight: #e5c48a;
            --text-light: #f5f5f5;
            --text-muted: #b8c7d9;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --rockwell-font: 'Roboto Slab', serif;
            --montserrat-font: 'Montserrat', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--primary-dark);
            color: var(--text-light);
            font-family: var(--montserrat-font);
            min-height: 100vh;
        }

        /* Remove any overflow hidden that might cause cut-off */
        html, body {
            overflow-x: visible;
        }

        .logo-glow {
            filter: drop-shadow(0 0 8px rgba(229, 196, 138, 0.7));
            animation: glowPulse 3s ease-in-out infinite;
        }

        @keyframes glowPulse {
            0%, 100% { filter: drop-shadow(0 0 8px rgba(229, 196, 138, 0.7)); }
            50% { filter: drop-shadow(0 0 15px rgba(229, 196, 138, 0.9)); }
        }

        .page-transition {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-dark);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transform: translateX(100%);
            pointer-events: none;
        }

        .page-transition.active {
            animation: slideOut 0.8s ease-out forwards;
        }

        .page-transition.reverse {
            animation: slideIn 0.8s ease-out forwards;
        }

        .transition-logo {
            width: 150px;
            height: auto;
            opacity: 0;
            animation: logoTransition 1.2s ease-out;
        }

        @keyframes logoTransition {
            0% { opacity: 0; transform: scale(0.5) rotate(-180deg); }
            30% { opacity: 1; transform: scale(1.1) rotate(0deg); }
            70% { opacity: 1; transform: scale(1.1) rotate(0deg); }
            100% { opacity: 0; transform: scale(0.5) rotate(180deg); }
        }

        @keyframes slideOut {
            0% { transform: translateX(100%); }
            100% { transform: translateX(0); }
        }

        @keyframes slideIn {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .loader-logo {
            width: 200px;
            height: auto;
            animation: pulse 2s infinite;
            filter: drop-shadow(0 0 10px rgba(229, 196, 138, 0.7));
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5em;
            cursor: pointer;
            padding: 10px;
        }

        .mobile-nav-menu {
            position: fixed;
            top: 80px;
            right: 0;
            width: 250px;
            background: rgba(30, 47, 79, 0.98);
            backdrop-filter: blur(10px);
            padding: 20px;
            display: none;
            flex-direction: column;
            gap: 15px;
            z-index: 999;
            border-left: 2px solid var(--accent-color);
            border-bottom: 2px solid var(--accent-color);
        }

        .mobile-nav-menu.active {
            display: flex;
            animation: slideInRight 0.3s ease;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .mobile-nav-item {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            padding: 12px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .mobile-nav-item:hover {
            background: rgba(216, 113, 99, 0.1);
            color: var(--highlight);
            border-left-color: var(--accent-color);
        }

        #main-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(30, 47, 79, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid var(--accent-color);
        }

        .nav-logo {
            height: 50px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .nav-logo:hover {
            transform: scale(1.05);
        }

        .nav-logo img {
            height: 100%;
            width: auto;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
        }

        .nav-item {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9em;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--highlight), transparent);
            transition: 0.5s;
        }

        .nav-item:hover::before {
            left: 100%;
        }

        .nav-item:hover {
            background: rgba(216, 113, 99, 0.1);
            color: var(--highlight);
        }

        .search-btn {
            background: transparent;
            border: 2px solid var(--accent-color);
            color: var(--text-light);
            padding: 8px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .search-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--highlight), transparent);
            transition: 0.5s;
        }

        .search-btn:hover::before {
            left: 100%;
        }

        .search-btn:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        .search-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(30, 47, 79, 0.98);
            z-index: 1001;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .search-modal.active {
            display: flex;
        }

        .search-input {
            width: 80%;
            max-width: 600px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--accent-color);
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1.2em;
            margin-bottom: 20px;
            outline: none;
        }

        .search-results {
            width: 80%;
            max-width: 600px;
            max-height: 400px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            display: none;
        }

        .search-results.active {
            display: block;
        }

        .page-container {
            display: none;
            min-height: 100vh;
            padding-top: 80px;
            padding-bottom: 50px;
        }

        .page-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .page-header {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
        }

        .page-title {
            font-family: var(--rockwell-font);
            font-size: 2.2em;
            color: var(--highlight);
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .page-subtitle {
            font-size: 1em;
            color: var(--text-muted);
            max-width: 800px;
            margin: 0 auto 20px;
            line-height: 1.6;
        }

        .button-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
        }

        .glow-btn {
            padding: 15px 25px;
            background: rgba(216, 113, 99, 0.2);
            color: var(--text-light);
            border: 2px solid var(--accent-color);
            border-radius: 10px;
            font-family: var(--montserrat-font);
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-width: 180px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .glow-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--highlight), transparent);
            transition: 0.5s;
        }

        .glow-btn:hover::before {
            left: 100%;
        }

        .glow-btn:hover {
            background: rgba(216, 113, 99, 0.4);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(216, 113, 99, 0.3);
        }

        .glow-btn.active {
            background: var(--accent-color);
            color: var(--text-light);
            box-shadow: 0 0 30px rgba(216, 113, 99, 0.5);
        }

        #home-page {
            text-align: center;
        }

        /* Background Carousel Animations */
        @keyframes carouselFadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }

        @keyframes carouselFadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            z-index: 0 !important;
            opacity: 0;
            background-color: #1e2f4f;
            pointer-events: none;
        }

        .hero-background.active {
            opacity: 1;
            animation: carouselFadeIn 1s ease-in-out forwards;
        }

        .hero-background.inactive {
            opacity: 1;
            animation: carouselFadeOut 1s ease-in-out forwards;
        }

        .hero-section {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 30px 20px;
            overflow: hidden;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(1, 16, 49, 0.7), rgba(17, 38, 73, 0.7));
            z-index: 1 !important;
            pointer-events: none;
        }

        .hero-section > :not(.hero-background):not(.hero-overlay) {
            position: relative;
            z-index: 2;
        }

        .hero-logo {
            width: 250px;
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(229, 196, 138, 0.7));
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .hero-title {
            font-family: var(--rockwell-font);
            font-size: 3em;
            color: var(--highlight);
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .hero-subtitle {
            font-size: 1.2em;
            color: var(--text-light);
            margin-bottom: 25px;
            max-width: 700px;
            line-height: 1.6;
        }

        .hero-description {
            font-size: 1em;
            color: var(--text-muted);
            max-width: 600px;
            margin-bottom: 40px;
            line-height: 1.8;
        }

        /* NEW: Statistics and Map Section */
        .stats-map-section {
            max-width: 1400px;
            margin: 80px auto;
            padding: 0 20px;
        }

        .section-title {
            font-family: var(--rockwell-font);
            font-size: 2em;
            color: var(--highlight);
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background: var(--accent-color);
            margin: 15px auto;
        }

        .stats-map-container {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 60px;
        }

        .stats-container {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid var(--accent-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .stats-title {
            font-family: var(--rockwell-font);
            font-size: 1.5em;
            color: var(--highlight);
            margin-bottom: 25px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .area-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .area-stat-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .area-stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
            background: rgba(216, 113, 99, 0.1);
        }

        .area-stat-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .area-stat-value {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--highlight);
            margin-bottom: 5px;
        }

        .area-stat-label {
            color: var(--text-muted);
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .area-stat-barangays {
            color: var(--text-light);
            font-size: 0.9em;
            margin-top: 10px;
            font-style: italic;
        }

        .map-container {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid var(--accent-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .map-title {
            background: rgba(216, 113, 99, 0.2);
            padding: 15px;
            text-align: center;
            font-family: var(--rockwell-font);
            font-size: 1.2em;
            color: var(--highlight);
            border-bottom: 2px solid var(--accent-color);
        }

        .map-frame {
            max-height: 500px;
            min-height: 400px;
            background: rgba(0, 0, 0, 0.3);
            overflow: auto;
            position: relative;
            padding: 15px;
            margin: 0 15px 15px 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .map-frame img {
            display: block;
            width: 100%;
            height: auto;
        }

        .map-placeholder {
            text-align: center;
            padding: 30px;
        }

        .map-icon {
            font-size: 4em;
            color: var(--accent-color);
            margin-bottom: 15px;
            opacity: 0.7;
        }

        .map-placeholder-text {
            color: var(--text-muted);
            max-width: 300px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .map-legend {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }

        .legend-text {
            color: var(--text-muted);
            font-size: 0.8em;
        }

        .start-btn {
            padding: 18px 40px;
            font-size: 1.1em;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .start-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .start-btn:hover::before {
            left: 100%;
        }

        .start-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(216, 113, 99, 0.4);
        }

        /* Area Selection Layout - NEW DESIGN */
        .area-type-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .area-tab {
            flex: 1;
            min-width: 150px;
            max-width: 200px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 20px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .area-tab:hover {
            background: rgba(216, 113, 99, 0.1);
            transform: translateY(-3px);
            border-color: var(--accent-color);
        }

        .area-tab.active {
            background: rgba(216, 113, 99, 0.2);
            border-color: var(--highlight);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(216, 113, 99, 0.2);
        }

        .area-tab.selected {
            position: relative;
            background: rgba(229, 196, 138, 0.2);
            border-color: var(--highlight);
        }

        .selected-indicator {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--highlight);
            color: var(--primary-dark);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
            box-shadow: 0 3px 10px rgba(229, 196, 138, 0.5);
        }

        .tab-icon {
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        .tab-label {
            font-family: var(--montserrat-font);
            font-weight: 600;
            color: var(--text-light);
            text-align: center;
            font-size: 0.95em;
        }

        .area-details-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            border: 2px solid var(--accent-color);
            overflow: hidden;
        }

        .area-details {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .area-details.active {
            display: block;
        }

        .area-details-content {
            display: flex;
            flex-wrap: wrap;
            min-height: 500px;
        }

        .area-left {
            flex: 1;
            min-width: 300px;
            background: rgba(0, 0, 0, 0.2);
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .area-image-large {
            height: 300px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }

        .area-image-large img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .area-image-large:hover img {
            transform: scale(1.05);
        }

        .area-stats {
            display: flex;
            justify-content: space-around;
            gap: 15px;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            flex: 1;
            min-width: 100px;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--highlight);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .area-right {
            flex: 2;
            min-width: 300px;
            padding: 30px;
            display: flex;
            flex-direction: column;
        }

        .area-title-large {
            font-family: var(--rockwell-font);
            font-size: 2em;
            color: var(--highlight);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .area-description-large {
            color: var(--text-muted);
            line-height: 1.7;
            margin-bottom: 25px;
            flex-grow: 1;
        }

        .area-description-large p {
            margin-bottom: 15px;
        }

        .area-description-large strong {
            color: var(--text-light);
        }

        .area-description-large ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .area-description-large li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 5px;
        }

        .area-description-large li::before {
            content: '•';
            color: var(--accent-color);
            margin-right: 10px;
            font-weight: bold;
        }

        .select-area-btn {
            padding: 18px 30px;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            color: white;
            border: none;
            border-radius: 15px;
            font-family: var(--montserrat-font);
            font-weight: 700;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
        }

        .select-area-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .select-area-btn:hover::before {
            left: 100%;
        }

        .select-area-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(216, 113, 99, 0.4);
        }

        .barangays-label {
            color: var(--text-light);
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 0.95em;
        }

        /* Progress Bar */
        .progress-container {
            max-width: 800px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .progress-bar {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: 40px;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1;
        }

        .progress-line {
            position: absolute;
            top: 15px;
            left: 0;
            height: 3px;
            background: var(--highlight);
            z-index: 2;
            transition: width 0.5s ease;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 3;
            position: relative;
        }

        .step-circle {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-weight: bold;
            margin-bottom: 8px;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .progress-step.active .step-circle {
            background: var(--highlight);
            border-color: var(--highlight);
            color: var(--primary-dark);
            transform: scale(1.1);
        }

        .progress-step.completed .step-circle {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .step-label {
            color: var(--text-muted);
            font-size: 0.9em;
            text-align: center;
            font-weight: 600;
        }

        .progress-step.active .step-label {
            color: var(--highlight);
        }

        /* Step Containers */
        .step-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .step-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid var(--accent-color);
        }

        .step-title {
            font-family: var(--rockwell-font);
            font-size: 1.8em;
            color: var(--highlight);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .step-number {
            background: var(--accent-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* Barangay Selection */
        .barangay-search-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .search-bar-container {
            position: relative;
            margin-bottom: 25px;
        }

        .barangay-search-input {
            width: 100%;
            padding: 18px 60px 18px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent-color);
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1.1em;
            outline: none;
            transition: all 0.3s ease;
        }

        .barangay-search-input:focus {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(216, 113, 99, 0.3);
        }

        .search-icon-btn {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: var(--accent-color);
            font-size: 1.2em;
        }

        .barangay-results {
            max-height: 400px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .barangay-result-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .barangay-result-item:hover {
            background: rgba(216, 113, 99, 0.1);
            border-color: var(--accent-color);
            transform: translateY(-3px);
        }

        .barangay-result-item.selected {
            background: rgba(229, 196, 138, 0.2);
            border-color: var(--highlight);
        }

        .barangay-name {
            font-size: 1.3em;
            color: var(--text-light);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .barangay-type {
            color: var(--highlight);
            font-size: 0.9em;
            background: rgba(229, 196, 138, 0.1);
            padding: 5px 12px;
            border-radius: 15px;
            display: inline-block;
            margin-bottom: 10px;
        }

        .barangay-hazards {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 10px;
        }

        .hazard-tag {
            background: rgba(244, 67, 54, 0.1);
            color: var(--danger);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8em;
            border: 1px solid rgba(244, 67, 54, 0.3);
        }

        .selected-barangay-display {
            background: rgba(216, 113, 99, 0.2);
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            border: 2px dashed var(--accent-color);
            display: none;
        }

        .selected-barangay-display.active {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .barangay-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .barangay-icon {
            font-size: 3em;
            color: var(--highlight);
        }

        .barangay-details h3 {
            font-size: 1.5em;
            color: var(--highlight);
            margin-bottom: 10px;
        }

        .barangay-details p {
            color: var(--text-muted);
            line-height: 1.6;
            font-size: 1em;
        }

        /* Hazard Selection */
        .hazard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .hazard-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .hazard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(229, 196, 138, 0.1), transparent);
            transition: 0.5s;
        }

        .hazard-card:hover::before {
            left: 100%;
        }

        .hazard-card:hover {
            border-color: var(--accent-color);
            transform: translateY(-5px);
            background: rgba(216, 113, 99, 0.1);
        }

        .hazard-card.selected {
            border-color: var(--highlight);
            background: rgba(229, 196, 138, 0.1);
        }

        .hazard-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .hazard-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .hazard-title h3 {
            font-size: 1.3em;
            color: var(--text-light);
        }

        .hazard-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--accent-color);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .hazard-card.selected .hazard-checkbox {
            background: var(--highlight);
            border-color: var(--highlight);
        }

        .hazard-card.selected .hazard-checkbox::after {
            content: '✓';
            color: var(--primary-dark);
            font-weight: bold;
            font-size: 1em;
        }

        .hazard-description {
            color: var(--text-muted);
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        /* Materials Section - UPDATED TO MATCH AREA SELECTION */
        .materials-type-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .material-tab {
            flex: 1;
            min-width: 150px;
            max-width: 180px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 20px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .material-tab:hover {
            background: rgba(216, 113, 99, 0.1);
            transform: translateY(-3px);
            border-color: var(--accent-color);
        }

        .material-tab.active {
            background: rgba(216, 113, 99, 0.2);
            border-color: var(--highlight);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(216, 113, 99, 0.2);
        }

        .material-tab-icon {
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        .material-tab-label {
            font-family: var(--montserrat-font);
            font-weight: 600;
            color: var(--text-light);
            text-align: center;
            font-size: 0.95em;
        }

        .materials-details-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            border: 2px solid var(--accent-color);
            overflow: hidden;
            margin-top: 20px;
        }

        .materials-details {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .materials-details.active {
            display: block;
        }

        .materials-details-content {
            display: flex;
            flex-wrap: wrap;
            min-height: 500px;
        }

        .material-left {
            flex: 1;
            min-width: 300px;
            background: rgba(0, 0, 0, 0.2);
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .material-image-large {
            height: 300px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }

        .material-image-large img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .material-image-large:hover img {
            transform: scale(1.05);
        }

        .material-stats {
            display: flex;
            justify-content: space-around;
            gap: 15px;
            flex-wrap: wrap;
        }

        .material-stat {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            flex: 1;
            min-width: 100px;
        }

        .material-stat-value {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--highlight);
            margin-bottom: 5px;
        }

        .material-stat-label {
            font-size: 0.85em;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .material-right {
            flex: 2;
            min-width: 300px;
            padding: 30px;
            display: flex;
            flex-direction: column;
        }

        .material-title-large {
            font-family: var(--rockwell-font);
            font-size: 2em;
            color: var(--highlight);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .material-description-large {
            color: var(--text-muted);
            line-height: 1.7;
            margin-bottom: 25px;
            flex-grow: 1;
        }

        .material-description-large p {
            margin-bottom: 15px;
        }

        .material-description-large strong {
            color: var(--text-light);
        }

        .material-description-large ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .material-description-large li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 5px;
        }

        .material-description-large li::before {
            content: '•';
            color: var(--accent-color);
            margin-right: 10px;
            font-weight: bold;
        }

        .pros-cons-container {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .pros-section, .cons-section {
            flex: 1;
            min-width: 250px;
            padding: 20px;
            border-radius: 10px;
        }

        .pros-section {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid var(--success);
        }

        .cons-section {
            background: rgba(244, 67, 54, 0.1);
            border-left: 4px solid var(--danger);
        }

        .pros-title, .cons-title {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pros-title {
            color: var(--success);
        }

        .cons-title {
            color: var(--danger);
        }

        .pros-list, .cons-list {
            color: var(--text-muted);
            font-size: 0.9em;
            line-height: 1.6;
        }

        .pros-list li, .cons-list li {
            margin-bottom: 8px;
            padding-left: 5px;
        }

        .applicable-hazards-container {
            background: rgba(255, 193, 7, 0.1);
            border-left: 4px solid var(--warning);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .hazards-title {
            color: var(--warning);
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Alternatives Section Styles */
        #floor-alternatives,
        #floor_system-alternatives,
        #foundation-alternatives,
        #wall-alternatives,
        #roof-alternatives,
        #beam-alternatives,
        #tie-beam-alternatives,
        #lintel-beam-alternatives,
        #column-alternatives {
            background: rgba(255, 152, 0, 0.1);
            border-left: 4px solid var(--accent-light);
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
            display: none;
        }

        .alternatives-header {
            margin-bottom: 20px;
        }

        .alternatives-header h4 {
            color: var(--accent-light);
            font-size: 1.2em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alternative-option {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            border-left: 3px solid var(--accent-light);
        }

        .alternative-icon {
            font-size: 1.5em;
            flex-shrink: 0;
        }

        .alternative-details {
            flex: 1;
        }

        .alternative-name {
            color: var(--highlight);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .alternative-description {
            color: var(--text-muted);
            font-size: 0.9em;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .alternative-pros-cons {
            display: flex;
            gap: 15px;
            font-size: 0.85em;
            flex-wrap: wrap;
        }

        .alt-pros, .alt-cons {
            color: var(--text-muted);
        }

        .alt-pros strong, .alt-cons strong {
            color: var(--text-light);
        }
        .hazards-list {
            color: var(--text-muted);
            font-size: 0.95em;
            line-height: 1.5;
        }

        /* Hide material navigation buttons */
        .material-navigation {
            display: none !important;
        }

        /* Remove old carousel styles */
        .materials-carousel-container {
            display: none;
        }

        .category-tabs {
            display: none;
        }

        /* Add new materials section display */
        .materials-section {
            max-width: 1650px;
            margin: 50px auto;
            padding: 0 20px;
        }

        .materials-title {
            font-family: var(--rockwell-font);
            font-size: 2em;
            color: var(--highlight);
            text-align: center;
            margin-bottom: 40px;
        }

        /* Safety Notice */
        .safety-notice {
            background: rgba(244, 67, 54, 0.1);
            border: 2px solid var(--danger);
            border-radius: 15px;
            padding: 25px;
            margin: 30px auto;
            max-width: 700px;
            text-align: center;
        }

        .safety-icon {
            font-size: 2.5em;
            color: var(--danger);
            margin-bottom: 15px;
        }

        .safety-title {
            font-family: var(--rockwell-font);
            font-size: 1.5em;
            color: var(--danger);
            margin-bottom: 12px;
        }

        .safety-text {
            color: var(--text-muted);
            line-height: 1.6;
            font-size: 0.95em;
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        /* Results page materials - match step-box width (1200px) */
        .nav-buttons.materials-container {
            max-width: 1200px;
            flex-direction: column;
        }

        .nav-btn {
            padding: 15px 35px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            border: none;
            font-size: 1em;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .prev-btn {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .next-btn {
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(216, 113, 99, 0.3);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .nav-btn:disabled:hover::before {
            left: -100%;
        }

        /* Design Page */
        .designs-section {
            margin: 40px 0;
        }

        .designs-title {
            font-family: var(--rockwell-font);
            font-size: 2em;
            color: var(--highlight);
            text-align: center;
            margin-bottom: 25px;
        }

        .designs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .design-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 25px;
            border: 2px dashed var(--accent-color);
            min-height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: all 0.3s ease;
        }

        .design-card:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-5px);
        }

        .design-icon {
            font-size: 3em;
            color: var(--highlight);
            margin-bottom: 15px;
        }

        .design-title {
            font-size: 1.2em;
            color: var(--text-light);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .design-description {
            color: var(--text-muted);
            font-size: 0.9em;
            line-height: 1.6;
        }

        .design-button-section {
            text-align: center;
            margin: 40px 0;
        }

        .design-btn {
            padding: 18px 40px;
            font-size: 1.2em;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-light));
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .design-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: 0.5s;
        }

        .design-btn:hover::before {
            left: 100%;
        }

        .design-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(216, 113, 99, 0.4);
        }

        /* NEW: Barangay Directory Section in Learn Page */
        .barangay-directory {
            max-width: 1200px;
            margin: 50px auto;
            padding: 30px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            border: 2px solid var(--accent-color);
        }

        .directory-title {
            font-family: var(--rockwell-font);
            font-size: 1.8em;
            color: var(--highlight);
            margin-bottom: 25px;
            text-align: center;
        }

        .directory-description {
            color: var(--text-muted);
            text-align: center;
            margin-bottom: 30px;
            line-height: 1.6;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .directory-search-container {
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .directory-search-bar {
            width: 100%;
            padding: 18px 60px 18px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent-color);
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1.1em;
            outline: none;
            transition: all 0.3s ease;
        }

        .directory-search-bar:focus {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(216, 113, 99, 0.3);
        }

        .directory-search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: var(--accent-color);
            font-size: 1.2em;
        }

        .directory-results {
            max-height: 500px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }

        .directory-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .directory-item:hover {
            background: rgba(216, 113, 99, 0.1);
            border-color: var(--accent-color);
            transform: translateY(-3px);
        }

        .directory-item-name {
            font-size: 1.3em;
            color: var(--text-light);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .directory-item-types {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        .type-badge {
            color: var(--text-light);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .type-badge.coastal {
            background: rgba(33, 150, 243, 0.2);
            border: 1px solid rgba(33, 150, 243, 0.5);
        }

        .type-badge.rural {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.5);
        }

        .type-badge.urban {
            background: rgba(156, 39, 176, 0.2);
            border: 1px solid rgba(156, 39, 176, 0.5);
        }

        .type-badge.upland {
            background: rgba(255, 152, 0, 0.2);
            border: 1px solid rgba(255, 152, 0, 0.5);
        }

        .directory-item-hazards {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 10px;
        }

        .directory-empty {
            text-align: center;
            color: var(--text-muted);
            padding: 40px 20px;
            grid-column: 1 / -1;
        }

        /* Topics Grid */
        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px auto;
            max-width: 1200px;
            padding: 0 20px;
        }

        .topic-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .topic-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(229, 196, 138, 0.1), transparent);
            transition: 0.5s;
        }

        .topic-card:hover::before {
            left: 100%;
        }

        .topic-card:hover {
            border-color: var(--accent-color);
            transform: translateY(-5px);
        }

        .topic-icon {
            font-size: 2.5em;
            color: var(--highlight);
            margin-bottom: 15px;
        }

        .topic-title {
            font-family: var(--rockwell-font);
            font-size: 1.3em;
            color: var(--text-light);
            margin-bottom: 12px;
        }

        .topic-description {
            color: var(--text-muted);
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 0.95em;
        }

        .learn-more {
            color: var(--highlight);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }

        .learn-more:hover {
            gap: 12px;
        }

        /* About Page */
        .about-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .about-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid var(--accent-color);
        }

        .section-title {
            font-family: var(--rockwell-font);
            font-size: 1.8em;
            color: var(--highlight);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-title i {
            font-size: 1.3em;
        }

        .section-content {
            color: var(--text-muted);
            line-height: 1.8;
            font-size: 1em;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .team-member {
            text-align: center;
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .team-member:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.05);
        }

        .member-role {
            color: var(--highlight);
            font-weight: 600;
            margin-top: 8px;
            font-size: 0.85em;
        }

        .team-member {
            cursor: pointer;
        }

        /* Team Member Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
            padding: 40px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            border: 2px solid var(--accent-color);
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 15px;
        }

        .modal-title {
            font-family: var(--rockwell-font);
            font-size: 1.8em;
            color: var(--highlight);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 2em;
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(216, 113, 99, 0.2);
            transform: rotate(90deg);
        }

        .modal-body {
            color: var(--text-light);
        }

        .member-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .member-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--accent-color);
            transition: all 0.3s ease;
        }

        .member-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .member-name {
            font-weight: 600;
            color: var(--highlight);
            margin-bottom: 5px;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }

        .social-link {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(216, 113, 99, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            text-decoration: none;
            font-size: 1.1em;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .social-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--highlight), transparent);
            transition: 0.5s;
        }

        .social-link:hover::before {
            left: 100%;
        }

        .social-link:hover {
            background: var(--accent-color);
            transform: translateY(-3px);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .search-btn span {
                display: none;
            }

            .search-btn {
                padding: 8px 12px;
            }

            .page-title {
                font-size: 1.8em;
            }

            .hero-title {
                font-size: 2.2em;
            }

            .hero-logo {
                width: 180px;
            }

            .glow-btn {
                min-width: 140px;
                padding: 12px 20px;
                font-size: 0.9em;
            }

            .stats-map-container {
                flex-direction: column;
            }
            
            .stats-container, .map-container {
                min-width: 100%;
            }
            
            .area-stats-grid {
                grid-template-columns: 1fr;
            }
            
            .area-details-content,
            .materials-details-content {
                flex-direction: column;
            }
            
            .area-left, .area-right,
            .material-left, .material-right {
                min-width: 100%;
            }
            
            .area-left,
            .material-left {
                padding: 20px;
            }
            
            .area-image-large,
            .material-image-large {
                height: 250px;
            }
            
            .area-tab,
            .material-tab {
                min-width: 120px;
                padding: 15px 10px;
            }
            
            .tab-icon,
            .material-tab-icon {
                font-size: 2em;
            }
            
            .tab-label,
            .material-tab-label {
                font-size: 0.85em;
            }

            .hazard-grid,
            .topics-grid,
            .designs-grid,
            .team-grid,
            .directory-results {
                grid-template-columns: 1fr;
            }

            .step-box {
                padding: 20px 15px;
            }

            .nav-buttons {
                flex-direction: column;
                gap: 12px;
            }

            .nav-btn {
                width: 100%;
                text-align: center;
            }

            .progress-bar {
                flex-wrap: wrap;
                gap: 15px;
                margin-bottom: 30px;
            }

            .progress-step {
                flex: 1;
                min-width: 80px;
            }

            .barangay-results {
                grid-template-columns: 1fr;
            }

            .pros-cons-container {
                flex-direction: column;
            }

            .material-navigation {
                flex-direction: column;
                gap: 10px;
            }

            .material-nav-btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            #main-nav {
                padding: 10px 15px;
            }

            .nav-logo {
                height: 40px;
            }

            .hero-title {
                font-size: 1.8em;
            }

            .hero-subtitle {
                font-size: 1em;
            }

            .start-btn {
                padding: 14px 28px;
                font-size: 1em;
            }

            .page-header {
                padding: 25px 15px;
            }

            .step-title {
                font-size: 1.3em;
            }

            .design-btn {
                padding: 14px 28px;
                font-size: 1em;
            }
            
            .area-type-tabs,
            .materials-type-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .area-tab,
            .material-tab {
                width: 100%;
                max-width: 300px;
                flex-direction: row;
                justify-content: flex-start;
                text-align: left;
                padding: 15px 20px;
            }
            
            .tab-icon,
            .material-tab-icon {
                margin-bottom: 0;
                margin-right: 15px;
            }
            
            .area-image-large,
            .material-image-large {
                height: 200px;
            }
            
            .stat,
            .material-stat {
                min-width: 80px;
                padding: 12px 8px;
            }
        }

        /* Learn Section Styles */
        .learn-section {
            max-width: 1400px;
            margin: 80px auto;
            padding: 0 20px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-subtitle {
            font-size: 1.1em;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 20px;
            line-height: 1.6;
        }

        .learn-wrapper {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid var(--accent-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .learn-tabs-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 40px;
        }

        .learn-tab {
            flex: 0 1 auto;
            min-width: 120px;
            max-width: 160px;
            padding: 20px 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--text-muted);
            border-radius: 15px;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 600;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .learn-tab:hover {
            border-color: var(--accent-color);
            background: rgba(216, 113, 99, 0.1);
            transform: translateY(-5px);
        }

        .learn-tab.active {
            border-color: var(--highlight);
            background: rgba(229, 196, 138, 0.1);
            color: var(--highlight);
        }

        .learn-tab-emoji {
            font-size: 2em;
        }

        .learn-tab-name {
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .learn-results-wrapper {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .learn-search-input {
            width: 100%;
            max-width: 500px;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--accent-color);
            border-radius: 10px;
            color: var(--text-light);
            font-size: 1em;
            margin-bottom: 20px;
            outline: none;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .learn-search-input::placeholder {
            color: var(--text-muted);
        }

        .learn-search-input:focus {
            border-color: var(--highlight);
            background: rgba(255, 255, 255, 0.08);
        }

        .learn-barangay-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .learn-barangay-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--accent-color);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .learn-barangay-card:hover {
            background: rgba(216, 113, 99, 0.1);
            border-color: var(--highlight);
            transform: translateY(-3px);
        }

        .learn-barangay-name {
            color: var(--text-light);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .learn-barangay-type {
            color: var(--text-muted);
            font-size: 0.85em;
        }

        /* Articles Section Styles */
        .articles-section {
            max-width: 1400px;
            margin: 80px auto;
            padding: 0 20px;
            margin-bottom: 80px;
        }

        .articles-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 40px;
        }

        .article-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid var(--accent-color);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .article-card:hover {
            transform: translateY(-10px);
            border-color: var(--highlight);
            background: rgba(216, 113, 99, 0.1);
        }

        .article-image {
            width: 100%;
            height: 200px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
        }

        .article-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .article-card:hover .article-image img {
            transform: scale(1.05);
        }

        .article-content {
            padding: 25px;
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .article-category {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 15px;
            width: fit-content;
        }

        .article-title {
            font-family: var(--rockwell-font);
            font-size: 1.3em;
            color: var(--highlight);
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .article-excerpt {
            color: var(--text-muted);
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: auto;
            flex: 1;
        }

        .article-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .article-date {
            color: var(--text-muted);
            font-size: 0.85em;
        }

        .article-read-more {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .article-read-more:hover {
            color: var(--highlight);
            transform: translateX(5px);
            display: inline-block;
        }

        /* Article Detail Page - News Layout */
        #article-detail-page {
            font-family: Arial, sans-serif !important;
        }

        #article-detail-page .page-header {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 20px 0;
            text-align: left;
        }

        #article-detail-page .page-title {
            text-align: left;
        }

        .article-detail-layout {
            display: flex;
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px 60px;
            align-items: flex-start;
        }

        .article-detail-main {
            flex: 1;
            min-width: 0;
        }

        .article-detail-category-tag {
            display: inline-block;
            background: var(--accent-color);
            color: white;
            padding: 6px 16px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
        }

        .article-detail-headline {
            font-family: Arial, sans-serif;
            font-size: 2em;
            font-weight: bold;
            color: var(--text-light);
            line-height: 1.3;
            margin-bottom: 15px;
        }

        .article-detail-byline {
            font-family: Arial, sans-serif;
            font-size: 0.95em;
            color: var(--text-light);
            margin-bottom: 8px;
        }

        .article-detail-date {
            font-family: Arial, sans-serif;
            font-size: 0.85em;
            color: var(--text-muted);
            margin-bottom: 25px;
        }

        .article-detail-image {
            width: 100%;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.3);
        }

        .article-detail-image img {
            width: 100%;
            height: auto;
            max-height: 450px;
            object-fit: cover;
            display: block;
        }

        .article-detail-body {
            font-family: Arial, sans-serif;
            font-size: 1em;
            line-height: 1.8;
            color: var(--text-muted);
        }

        .article-detail-body p {
            margin-bottom: 18px;
        }

        .article-detail-body h2 {
            font-family: Arial, sans-serif;
            font-size: 1.4em;
            font-weight: bold;
            color: var(--highlight);
            margin: 30px 0 15px;
        }

        .article-detail-body h3 {
            font-family: Arial, sans-serif;
            font-size: 1.15em;
            font-weight: bold;
            color: var(--text-light);
            margin: 20px 0 10px;
        }

        .article-detail-body ul {
            margin: 15px 0 15px 25px;
        }

        .article-detail-body li {
            margin-bottom: 8px;
        }

        .article-detail-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .article-detail-recommended {
            width: 340px;
            flex-shrink: 0;
        }

        .article-detail-recommended h3 {
            font-family: Arial, sans-serif;
            font-size: 1.3em;
            font-weight: bold;
            color: var(--highlight);
            margin-bottom: 25px;
        }

        .recommended-articles-list {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .recommended-article-item {
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 25px;
        }

        .recommended-article-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .recommended-article-item:hover {
            opacity: 0.9;
        }

        .recommended-article-image {
            width: 100%;
            height: 140px;
            overflow: hidden;
            border-radius: 8px;
            margin-bottom: 12px;
            background: rgba(0, 0, 0, 0.3);
        }

        .recommended-article-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .recommended-article-headline {
            font-family: Arial, sans-serif;
            font-size: 1em;
            font-weight: bold;
            color: var(--text-light);
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .recommended-article-excerpt {
            font-family: Arial, sans-serif;
            font-size: 0.85em;
            color: var(--text-muted);
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .recommended-article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
        }

        .recommended-article-date {
            font-family: Arial, sans-serif;
            font-size: 0.8em;
            color: var(--text-muted);
        }

        .recommended-article-category {
            font-family: Arial, sans-serif;
            font-size: 0.7em;
            background: var(--accent-color);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            text-transform: uppercase;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .learn-tabs-container {
                flex-direction: column;
                align-items: stretch;
            }

            .learn-tab {
                max-width: none;
            }

            .learn-barangay-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .articles-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 900px) {
            .articles-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .articles-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .article-detail-layout {
                flex-direction: column;
            }

            .article-detail-recommended {
                width: 100%;
            }
        }
    </style>
</head>
<body>

    <div id="loading-screen">
        <img src="https://imgur.com/NERghso.png" alt="Gubat Resilient Housing Logo" class="loader-logo logo-glow">
    </div>

    <div id="page-transition" class="page-transition">
        <img src="https://imgur.com/NERghso.png" alt="Gubat Resilient Housing Logo" class="transition-logo logo-glow">
    </div>

    <div id="search-modal" class="search-modal">
        <input type="text" class="search-input" placeholder="Search for barangays, materials, hazards..." id="search-input">
        <div id="search-results" class="search-results"></div>
        <button class="glow-btn" style="margin-top: 20px;" onclick="closeSearch()">CLOSE</button>
    </div>

    <nav id="main-nav">
        <div class="nav-logo" onclick="goToPage('home')">
            <img src="https://imgur.com/NERghso.png" alt="Gubat Resilient Housing Logo" class="logo-glow">
        </div>
        
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
            ☰
        </button>
        
        <div class="nav-menu">
            <a href="#" class="nav-item" onclick="goToPage('home')">HOME</a>
            <a href="#" class="nav-item" onclick="goToPage('location')">BUILD GUIDE</a>
            <a href="#" class="nav-item" onclick="goToPage('education')">LEARN</a>
            <a href="#" class="nav-item" onclick="goToPage('about')">ABOUT</a>
        </div>
        
        <button class="search-btn" onclick="openSearch()">
            <i class="fas fa-search"></i>
            <span>SEARCH</span>
        </button>
    </nav>

    <div id="mobile-nav-menu" class="mobile-nav-menu">
        <a href="#" class="mobile-nav-item" onclick="goToPage('home'); toggleMobileMenu()">HOME</a>
        <a href="#" class="mobile-nav-item" onclick="goToPage('location'); toggleMobileMenu()">BUILD GUIDE</a>
        <a href="#" class="mobile-nav-item" onclick="goToPage('education'); toggleMobileMenu()">LEARN</a>
        <a href="#" class="mobile-nav-item" onclick="goToPage('about'); toggleMobileMenu()">ABOUT</a>
    </div>

    <div id="home-page" class="page-container active">
        <div class="hero-section">
            <!-- Carousel backgrounds -->
            <div class="hero-background active" id="hero-bg-0" style="background-image: url('https://i.imgur.com/QFIsp3V.jpg');"></div>
            <div class="hero-background" id="hero-bg-1" style="background-image: url('https://i.imgur.com/abSZ2J7.jpg');"></div>
            <div class="hero-background" id="hero-bg-2" style="background-image: url('https://i.imgur.com/tKmsAAa.jpg');"></div>
            <div class="hero-background" id="hero-bg-3" style="background-image: url('https://i.imgur.com/V4hg9E9.jpg');"></div>
            <div class="hero-background" id="hero-bg-4" style="background-image: url('https://i.imgur.com/pmcqfsn.jpg');"></div>
            <div class="hero-background" id="hero-bg-5" style="background-image: url('https://i.imgur.com/uF1HGSn.jpg');"></div>

            <!-- Overlay -->
            <div class="hero-overlay"></div>

            <img src="https://imgur.com/NERghso.png" alt="Gubat Resilient Housing Logo" class="hero-logo logo-glow">
            <h1 class="hero-title">GUBAT RESILIENT HOUSING</h1>
            <p class="hero-subtitle">Affordable, Safe, and Resilient Housing Solutions for Gubat, Sorsogon</p>
            <p class="hero-description">
                This interactive guide helps Gubat residents and builders choose the right construction materials 
                based on their specific location and environmental hazards. Get personalized recommendations 
                for building resilient, safe, and cost-effective homes.
            </p>
            <button class="start-btn" onclick="startBuildingGuide()">START BUILDING GUIDE</button>
        </div>
        
        <!-- NEW: Statistics and Map Section -->
        <div class="stats-map-section">
            <h2 class="section-title">GUBAT AT A GLANCE</h2>
            <div class="stats-map-container">
                <div class="stats-container">
                    <h3 class="stats-title">
                        <i class="fas fa-chart-bar"></i>
                        BARANGAYS BY AREA TYPE
                    </h3>
                    <div class="area-stats-grid" id="area-stats-grid">
                        <!-- Statistics will be populated by JavaScript -->
                    </div>
                    <div style="text-align: center; margin-top: 25px; color: var(--text-muted); font-size: 0.9em;">
                        <i class="fas fa-info-circle"></i> Total: <strong>42</strong> barangays across 4 area types
                    </div>
                </div>
                
                <div class="map-container">
                    <div class="map-title">
                        <i class="fas fa-map-marked-alt"></i>
                        MAP OF GUBAT, SORSOGON
                    </div>
                    <div class="map-frame">
                        <img src="https://i.imgur.com/n5F2TLY.png" alt="Map of Gubat Municipality, Sorsogon">
                    </div>
                    <div class="map-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #2196F3;"></div>
                            <div class="legend-text">Coastal</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #FF9800;"></div>
                            <div class="legend-text">Upland</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #9C27B0;"></div>
                            <div class="legend-text">Urban</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #4CAF50;"></div>
                            <div class="legend-text">Rural</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Learn Section (moved to Education page) -->
        </div>
    </div>

    <div id="location-page" class="page-container">
        <div class="page-header">
            <h1 class="page-title">BUILDING GUIDE</h1>
            <p class="page-subtitle">Follow these steps to get personalized construction recommendations for your area</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-line" id="progress-line" style="width: 0%;"></div>
                <div class="progress-step active" id="step-1">
                    <div class="step-circle">1</div>
                    <div class="step-label">AREA</div>
                </div>
                <div class="progress-step" id="step-2">
                    <div class="step-circle">2</div>
                    <div class="step-label">BARANGAY</div>
                </div>
                <div class="progress-step" id="step-3">
                    <div class="step-circle">3</div>
                    <div class="step-label">RESULTS</div>
                </div>
            </div>
        </div>

        <div class="step-container">
            <!-- Step 1: Area Selection - NEW DESIGN -->
            <div class="step-box" id="step1-container">
                <h2 class="step-title"><span class="step-number">1</span> SELECT AREA TYPE</h2>
                <p style="color: var(--text-muted); margin-bottom: 30px; line-height: 1.6; font-size: 0.95em;">
                    Choose the area type that best describes your location. This helps us identify the general hazards and conditions in your area.
                </p>
                
                <!-- Area Type Tabs -->
                <div class="area-type-tabs">
                    <button class="area-tab active" onclick="showAreaDetails('coastal')">
                        <div class="tab-icon">🌊</div>
                        <div class="tab-label">COASTAL AREA</div>
                    </button>
                    <button class="area-tab" onclick="showAreaDetails('rural')">
                        <div class="tab-icon">🌾</div>
                        <div class="tab-label">RURAL AREA</div>
                    </button>
                    <button class="area-tab" onclick="showAreaDetails('urban')">
                        <div class="tab-icon">🏙️</div>
                        <div class="tab-label">URBAN AREA</div>
                    </button>
                    <button class="area-tab" onclick="showAreaDetails('upland')">
                        <div class="tab-icon">⛰️</div>
                        <div class="tab-label">UPLAND AREA</div>
                    </button>
                </div>
                
                <!-- Area Details Display -->
                <div class="area-details-container">
                    <!-- Coastal Area Details -->
                    <div class="area-details active" id="coastal-details">
                        <div class="area-details-content">
                            <div class="area-left">
                                <div class="area-image-large">
                                    <img src="https://i.imgur.com/Eu7hDj0.png" alt="Coastal Area">
                                </div>
                                <div class="area-stats">
                                    <div class="stat">
                                        <div class="stat-value">10</div>
                                        <div class="stat-label">Barangays</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">High</div>
                                        <div class="stat-label">Flood Risk</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">Mod-High</div>
                                        <div class="stat-label">Wind Exposure</div>
                                    </div>
                                </div>
                            </div>
                            <div class="area-right">
                                <h3 class="area-title-large">🌊 COASTAL AREA</h3>
                                <div class="area-description-large">
                                    <p>Areas near the coastline with exposure to saltwater, storm surges, and coastal erosion. These areas require materials resistant to corrosion and water damage.</p>
                                    <p><strong>Key Features:</strong></p>
                                    <ul>
                                        <li>Exposure to saltwater and high humidity</li>
                                        <li>Vulnerable to storm surges and typhoons</li>
                                        <li>Coastal erosion concerns</li>
                                        <li>Higher wind speeds</li>
                                    </ul>
                                    <p><strong>Construction Recommendations:</strong></p>
                                    <ul>
                                        <li>Elevated foundations to avoid storm surges</li>
                                        <li>Corrosion-resistant materials (galvanized steel, treated wood)</li>
                                        <li>Wind-resistant roof designs</li>
                                        <li>Proper drainage systems</li>
                                    </ul>
                                </div>
                                <div class="area-barangays">
                                    <div class="barangays-label">Barangays in this area:</div>
                                    <div class="barangay-list">
                                        <span class="barangay-tag">Rizal</span>
                                        <span class="barangay-tag">Bentuco</span>
                                        <span class="barangay-tag">Cota Na Daco</span>
                                        <span class="barangay-tag">Balud Del Norte</span>
                                        <span class="barangay-tag">Balud Del Sur</span>
                                    </div>
                                </div>
                                <button class="select-area-btn" onclick="selectArea('coastal')">SELECT COASTAL AREA</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Rural Area Details -->
                    <div class="area-details" id="rural-details">
                        <div class="area-details-content">
                            <div class="area-left">
                                <div class="area-image-large">
                                    <img src="https://i.imgur.com/iWrx32X.png" alt="Rural Area">
                                </div>
                                <div class="area-stats">
                                    <div class="stat">
                                        <div class="stat-value">34</div>
                                        <div class="stat-label">Barangays</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">Moderate</div>
                                        <div class="stat-label">Flood Risk</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">Moderate</div>
                                        <div class="stat-label">Wind Exposure</div>
                                    </div>
                                </div>
                            </div>
                            <div class="area-right">
                                <h3 class="area-title-large">🌾 RURAL AREA</h3>
                                <div class="area-description-large">
                                    <p>Agricultural and residential areas with moderate population density. Typically experiences flooding during heavy rains and requires locally available materials.</p>
                                    <p><strong>Key Features:</strong></p>
                                    <ul>
                                        <li>Agricultural land and open spaces</li>
                                        <li>Seasonal flooding in low-lying areas</li>
                                        <li>Access to local construction materials</li>
                                        <li>Moderate population density</li>
                                    </ul>
                                    <p><strong>Construction Recommendations:</strong></p>
                                    <ul>
                                        <li>Elevated foundations for flood-prone zones</li>
                                        <li>Locally sourced sustainable materials</li>
                                        <li>Proper drainage and water management</li>
                                        <li>Traditional building techniques with modern improvements</li>
                                    </ul>
                                </div>
                                <div class="area-barangays">
                                    <div class="barangays-label">Barangays in this area:</div>
                                    <div class="barangay-list">
                                        <span class="barangay-tag">Banay-banay</span>
                                        <span class="barangay-tag">Tabi</span>
                                        <span class="barangay-tag">Tiris</span>
                                        <span class="barangay-tag">Paradijon</span>
                                        <span class="barangay-tag">Santa Ana</span>
                                    </div>
                                </div>
                                <button class="select-area-btn" onclick="selectArea('rural')">SELECT RURAL AREA</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Urban Area Details -->
                    <div class="area-details" id="urban-details">
                        <div class="area-details-content">
                            <div class="area-left">
                                <div class="area-image-large">
                                    <img src="https://i.imgur.com/HGGozky.png" alt="Urban Area">
                                </div>
                                <div class="area-stats">
                                    <div class="stat">
                                        <div class="stat-value">6</div>
                                        <div class="stat-label">Barangays</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">High</div>
                                        <div class="stat-label">Fire Risk</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">High</div>
                                        <div class="stat-label">Density</div>
                                    </div>
                                </div>
                            </div>
                            <div class="area-right">
                                <h3 class="area-title-large">🏙️ URBAN AREA</h3>
                                <div class="area-description-large">
                                    <p>Densely populated areas with commercial and residential buildings. Higher fire risk and requires materials that meet building codes and regulations.</p>
                                    <p><strong>Key Features:</strong></p>
                                    <ul>
                                        <li>High population density</li>
                                        <li>Mixed commercial and residential use</li>
                                        <li>Higher fire risk due to electrical loads</li>
                                        <li>Strict building code requirements</li>
                                    </ul>
                                    <p><strong>Construction Recommendations:</strong></p>
                                    <ul>
                                        <li>Fire-resistant materials (concrete, fire-rated drywall)</li>
                                        <li>Proper electrical safety systems</li>
                                        <li>Structural integrity for multi-story buildings</li>
                                        <li>Space optimization and vertical expansion</li>
                                    </ul>
                                </div>
                                <div class="area-barangays">
                                    <div class="barangays-label">Barangays in this area:</div>
                                    <div class="barangay-list">
                                        <span class="barangay-tag">Poblacion</span>
                                        <span class="barangay-tag">Jupi</span>
                                        <span class="barangay-tag">Bagacay</span>
                                        <span class="barangay-tag">Panganiban</span>
                                        <span class="barangay-tag">Pinontingan</span>
                                    </div>
                                </div>
                                <button class="select-area-btn" onclick="selectArea('urban')">SELECT URBAN AREA</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Upland Area Details -->
                    <div class="area-details" id="upland-details">
                        <div class="area-details-content">
                            <div class="area-left">
                                <div class="area-image-large">
                                    <img src="https://i.imgur.com/NQAPnXU.png" alt="Upland Area">
                                </div>
                                <div class="area-stats">
                                    <div class="stat">
                                        <div class="stat-value">24</div>
                                        <div class="stat-label">Barangays</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">High</div>
                                        <div class="stat-label">Landslide Risk</div>
                                    </div>
                                    <div class="stat">
                                        <div class="stat-value">High</div>
                                        <div class="stat-label">Seismic Risk</div>
                                    </div>
                                </div>
                            </div>
                            <div class="area-right">
                                <h3 class="area-title-large">⛰️ UPLAND AREA</h3>
                                <div class="area-description-large">
                                    <p>Elevated areas with sloping terrain prone to landslides. Requires stable foundations and materials resistant to seismic activity and soil movement.</p>
                                    <p><strong>Key Features:</strong></p>
                                    <ul>
                                        <li>Sloping terrain and uneven ground</li>
                                        <li>Higher seismic activity sensitivity</li>
                                        <li>Landslide and soil erosion risks</li>
                                        <li>Cooler temperatures and higher rainfall</li>
                                    </ul>
                                    <p><strong>Construction Recommendations:</strong></p>
                                    <ul>
                                        <li>Deep foundations and proper anchoring</li>
                                        <li>Slope stabilization measures</li>
                                        <li>Earthquake-resistant designs</li>
                                        <li>Materials that handle temperature variations</li>
                                    </ul>
                                </div>
                                <div class="area-barangays">
                                    <div class="barangays-label">Barangays in this area:</div>
                                    <div class="barangay-list">
                                        <span class="barangay-tag">Benguet</span>
                                        <span class="barangay-tag">Togawe</span>
                                        <span class="barangay-tag">Ariman</span>
                                        <span class="barangay-tag">Tagaytay</span>
                                        <span class="barangay-tag">Union</span>
                                    </div>
                                </div>
                                <button class="select-area-btn" onclick="selectArea('upland')">SELECT UPLAND AREA</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Barangay Selection -->
            <div class="step-box" id="step2-container" style="display: none;">
                <h2 class="step-title"><span class="step-number">2</span> SELECT BARANGAY</h2>
                <p style="color: var(--text-muted); margin-bottom: 25px; line-height: 1.6; font-size: 0.95em;">
                    Search for your barangay below. Selecting your specific barangay helps us identify the exact hazards and conditions in your location.
                </p>
                
                <div class="barangay-search-container">
                    <div class="search-bar-container">
                        <input type="text" 
                               class="barangay-search-input" 
                               id="barangay-search-input"
                               placeholder="Type to search for your barangay..."
                               onkeyup="searchBarangays()">
                        <button class="search-icon-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <div class="barangay-results" id="barangay-results">
                    </div>
                </div>

                <div class="selected-barangay-display" id="selected-barangay">
                    <div class="barangay-info">
                        <div class="barangay-icon">📍</div>
                        <div class="barangay-details">
                            <h3 id="selected-barangay-name">Select a barangay from the list</h3>
                            <p id="selected-barangay-desc">Click on any barangay to view details and proceed</p>
                        </div>
                    </div>
                </div>
            </div> <!-- end step2-container -->

            <!-- Step navigation buttons (explicit control over step changes) -->
            <div class="nav-buttons">
                <button class="nav-btn prev-btn" id="prev-btn" onclick="prevStep()">← PREVIOUS</button>
                <button class="nav-btn next-btn" id="next-btn" onclick="nextStep()">NEXT →</button>
            </div>
        </div> <!-- end step-container -->
    </div> <!-- end location-page -->

    <div id="results-page" class="page-container">
        <div class="page-header">
            <h1 class="page-title">RECOMMENDED MATERIALS</h1>
            <p class="page-subtitle" id="results-subtitle">Personalized recommendations for your selected barangay</p>
        </div>

        <div class="safety-notice">
            <div class="safety-icon">⚠️</div>
            <h3 class="safety-title">IMPORTANT SAFETY DISCLAIMER</h3>
            <p class="safety-text">
                These recommendations are based on general guidelines. Always consult with licensed engineers and 
                architects for your specific construction needs. Follow local building codes and regulations. 
                This guide is for educational purposes only.
            </p>
        </div>

        <!-- Barangay-Specific Recommendations Section (summary only on results page) -->
        <div class="barangay-results" id="barangay-results-summary">
            <!-- Optional: could show a short summary for the selected barangay -->
        </div>

        <div class="nav-buttons materials-container">
            <p style="color: var(--text-muted); text-align: center; margin-bottom: 40px; line-height: 1.6; max-width: 100%; margin-left: auto; margin-right: auto;">
                Choose the material type to view detailed recommendations including pros, cons, and applicable hazards.
            </p>
            
            <!-- Material Type Tabs -->
            <div class="materials-type-tabs">
                <button class="material-tab active" onclick="showMaterialDetails('floor')">
                    <div class="material-tab-icon">🏗️</div>
                    <div class="material-tab-label">FLOOR STRUCTURES</div>
                </button>
                <button class="material-tab" onclick="showMaterialDetails('foundation')">
                    <div class="material-tab-icon">🏢</div>
                    <div class="material-tab-label">FOUNDATION TYPES</div>
                </button>
                <button class="material-tab" onclick="showMaterialDetails('wall')">
                    <div class="material-tab-icon">🧱</div>
                    <div class="material-tab-label">WALL STRUCTURES</div>
                </button>
                <button class="material-tab" onclick="showMaterialDetails('roof')">
                    <div class="material-tab-icon">🏠</div>
                    <div class="material-tab-label">ROOFING STRUCTURES</div>
                </button>
                <button class="material-tab" onclick="showMaterialDetails('beam')">
                    <div class="material-tab-icon">📏</div>
                    <div class="material-tab-label">BEAM TYPES</div>
                </button>
                <button class="material-tab" onclick="showMaterialDetails('column')">
                    <div class="material-tab-icon">🏛️</div>
                    <div class="material-tab-label">COLUMN TYPES</div>
                </button>
            </div>
            
            <!-- Material Details Display -->
            <div class="materials-details-container">
                <!-- Floor Structures Details -->
                <div class="materials-details active" id="floor-details">
                    <div class="materials-details-content">
                        <div class="material-left">
                            <div class="material-image-large">
                                <img src="https://i.imgur.com/zHQkNC9.jpg" alt="Floor Structures">
                            </div>
                            <div class="material-stats">
                                <div class="material-stat">
                                    <div class="material-stat-value">1</div>
                                    <div class="material-stat-label">Best Option</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">High</div>
                                    <div class="material-stat-label">Strength</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">Medium-High</div>
                                    <div class="material-stat-label">Cost</div>
                                </div>
                            </div>
                        </div>
                        <div class="material-right">
                            <h3 class="material-title-large">🏗️ Steel-Reinforced Concrete Floor</h3>
                            <div class="material-description-large">
                                <p>Steel-reinforced concrete floors provide excellent structural integrity and resistance to multiple hazards. The combination of concrete's compressive strength and steel's tensile strength creates a durable floor system suitable for various environmental conditions.</p>
                                
                                <div class="applicable-hazards-container">
                                    <div class="hazards-title">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        APPLICABLE HAZARDS
                                    </div>
                                    <div class="hazards-list" id="floor-hazards-list">
                                        Ground shaking, typhoon, flood
                                    </div>
                                </div>
                                
                                <div class="pros-cons-container">
                                    <div class="pros-section">
                                        <div class="pros-title">
                                            <i class="fas fa-check-circle"></i>
                                            PROS
                                        </div>
                                        <ul class="pros-list" id="floor-pros-list">
                                            <li>Excellent seismic resistance for ground shaking</li>
                                            <li>Very strong and durable</li>
                                            <li>Fire-resistant and water-resistant</li>
                                        </ul>
                                    </div>
                                    <div class="cons-section">
                                        <div class="cons-title">
                                            <i class="fas fa-times-circle"></i>
                                            CONS
                                        </div>
                                        <ul class="cons-list" id="floor-cons-list">
                                            <li>Heavy (needs strong foundation)</li>
                                            <li>Higher cost than other options</li>
                                            <li>Requires skilled labor</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Alternatives Section -->
                                <div id="floor-alternatives"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Foundation Types Details -->
                <div class="materials-details" id="foundation-details">
                    <div class="materials-details-content">
                        <div class="material-left">
                            <div class="material-image-large">
                                <img src="https://i.imgur.com/sOq1RAu.jpg" alt="Foundation Types">
                            </div>
                            <div class="material-stats">
                                <div class="material-stat">
                                    <div class="material-stat-value">1</div>
                                    <div class="material-stat-label">Best Option</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">Critical</div>
                                    <div class="material-stat-label">Safety</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">High</div>
                                    <div class="material-stat-label">Importance</div>
                                </div>
                            </div>
                        </div>
                        <div class="material-right">
                            <h3 class="material-title-large">🏢 Pile Foundation with Reinforced Concrete</h3>
                            <div class="material-description-large">
                                <p>Pile foundations transfer building loads deep into stable soil layers, making them ideal for flood-prone and coastal areas. When combined with reinforced concrete, they provide excellent stability against various environmental hazards.</p>
                                
                                <div class="applicable-hazards-container">
                                    <div class="hazards-title">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        APPLICABLE HAZARDS
                                    </div>
                                    <div class="hazards-list" id="foundation-hazards-list">
                                        Flood, storm surge, sea level rise, ground shaking
                                    </div>
                                </div>
                                
                                <div class="pros-cons-container">
                                    <div class="pros-section">
                                        <div class="pros-title">
                                            <i class="fas fa-check-circle"></i>
                                            PROS
                                        </div>
                                        <ul class="pros-list" id="foundation-pros-list">
                                            <li>Excellent for flood-prone and coastal areas</li>
                                            <li>Minimizes settlement in soft soils</li>
                                            <li>Good earthquake resistance when properly designed</li>
                                        </ul>
                                    </div>
                                    <div class="cons-section">
                                        <div class="cons-title">
                                            <i class="fas fa-times-circle"></i>
                                            CONS
                                        </div>
                                        <ul class="cons-list" id="foundation-cons-list">
                                            <li>High construction cost</li>
                                            <li>Complex construction process</li>
                                            <li>Requires specialized equipment</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Alternatives Section -->
                                <div id="foundation-alternatives"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Wall Structures Details -->
                <div class="materials-details" id="wall-details">
                    <div class="materials-details-content">
                        <div class="material-left">
                            <div class="material-image-large">
                                <img src="https://i.imgur.com/lrxUA9F.jpg" alt="Wall Structures">
                            </div>
                            <div class="material-stats">
                                <div class="material-stat">
                                    <div class="material-stat-value">1</div>
                                    <div class="material-stat-label">Best Option</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">Varies</div>
                                    <div class="material-stat-label">Insulation</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">High</div>
                                    <div class="material-stat-label">Cost</div>
                                </div>
                            </div>
                        </div>
                        <div class="material-right">
                            <h3 class="material-title-large">🧱 Reinforced Concrete Wall with Proper Bracing</h3>
                            <div class="material-description-large">
                                <p>Reinforced concrete walls with proper bracing provide superior structural integrity against seismic and wind forces. The combination of concrete and steel reinforcement creates a monolithic structure that can withstand significant environmental stresses.</p>
                                
                                <div class="applicable-hazards-container">
                                    <div class="hazards-title">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        APPLICABLE HAZARDS
                                    </div>
                                    <div class="hazards-list" id="wall-hazards-list">
                                        Ground shaking, typhoon, earthquake-induced landslides
                                    </div>
                                </div>
                                
                                <div class="pros-cons-container">
                                    <div class="pros-section">
                                        <div class="pros-title">
                                            <i class="fas fa-check-circle"></i>
                                            PROS
                                        </div>
                                        <ul class="pros-list" id="wall-pros-list">
                                            <li>Excellent earthquake and wind resistance</li>
                                            <li>Fire-resistant and durable</li>
                                            <li>Strong structural integrity</li>
                                        </ul>
                                    </div>
                                    <div class="cons-section">
                                        <div class="cons-title">
                                            <i class="fas fa-times-circle"></i>
                                            CONS
                                        </div>
                                        <ul class="cons-list" id="wall-cons-list">
                                            <li>Expensive material and labor costs</li>
                                            <li>Very heavy; requires strong foundation</li>
                                            <li>Poor thermal insulation without additional materials</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Alternatives Section -->
                                <div id="wall-alternatives"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Roofing Structures Details -->
                <div class="materials-details" id="roof-details">
                    <div class="materials-details-content">
                        <div class="material-left">
                            <div class="material-image-large">
                                <img src="https://i.imgur.com/Jtvl9NW.jpg" alt="Roofing Structures">
                            </div>
                            <div class="material-stats">
                                <div class="material-stat">
                                    <div class="material-stat-value">1</div>
                                    <div class="material-stat-label">Best Option</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">High</div>
                                    <div class="material-stat-label">Wind Resistance</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">High</div>
                                    <div class="material-stat-label">Durability</div>
                                </div>
                            </div>
                        </div>
                        <div class="material-right">
                            <h3 class="material-title-large">🏠 Hip Roof with Metal Roofing and Proper Anchoring</h3>
                            <div class="material-description-large">
                                <p>Hip roofs with metal roofing provide excellent protection against typhoons and ash fall. The sloped design on all four sides minimizes wind uplift, while metal roofing sheds ash and debris effectively.</p>
                                
                                <div class="applicable-hazards-container">
                                    <div class="hazards-title">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        APPLICABLE HAZARDS
                                    </div>
                                    <div class="hazards-list" id="roof-hazards-list">
                                        Typhoon, ground shaking, ash fall
                                    </div>
                                </div>
                                
                                <div class="pros-cons-container">
                                    <div class="pros-section">
                                        <div class="pros-title">
                                            <i class="fas fa-check-circle"></i>
                                            PROS
                                        </div>
                                        <ul class="pros-list" id="roof-pros-list">
                                            <li>Excellent wind resistance for typhoon-prone areas</li>
                                            <li>Metal roofing sheds ash fall effectively</li>
                                            <li>Proper anchoring provides earthquake resistance</li>
                                            <li>Good water drainage</li>
                                        </ul>
                                    </div>
                                    <div class="cons-section">
                                        <div class="cons-title">
                                            <i class="fas fa-times-circle"></i>
                                            CONS
                                        </div>
                                        <ul class="cons-list" id="roof-cons-list">
                                            <li>More expensive than gabled roofs</li>
                                            <li>Metal can be noisy during heavy rain</li>
                                            <li>Requires proper installation to prevent leaks</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Alternatives Section -->
                                <div id="roof-alternatives"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Beam Types Details -->
                <div class="materials-details" id="beam-details">
                    <div class="materials-details-content">
                        <div class="material-left">
                            <div class="material-image-large">
                                <img src="https://i.imgur.com/o75wpeo.jpg" alt="Beam Types">
                            </div>
                            <div class="material-stats">
                                <div class="material-stat">
                                    <div class="material-stat-value">1</div>
                                    <div class="material-stat-label">Best Option</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">Critical</div>
                                    <div class="material-stat-label">Structural</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">High</div>
                                    <div class="material-stat-label">Load Capacity</div>
                                </div>
                            </div>
                        </div>
                        <div class="material-right">
                            <h3 class="material-title-large">📏 Reinforced Concrete Beam with Steel Reinforcement</h3>
                            <div class="material-description-large">
                                <p>Reinforced concrete beams provide essential structural support while offering excellent resistance to seismic and wind forces. The steel reinforcement ensures ductility during earthquakes while the concrete provides compressive strength.</p>
                                
                                <div class="applicable-hazards-container">
                                    <div class="hazards-title">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        APPLICABLE HAZARDS
                                    </div>
                                    <div class="hazards-list" id="beam-hazards-list">
                                        Ground shaking, typhoon, earthquake-induced structural stress
                                    </div>
                                </div>
                                
                                <div class="pros-cons-container">
                                    <div class="pros-section">
                                        <div class="pros-title">
                                            <i class="fas fa-check-circle"></i>
                                            PROS
                                        </div>
                                        <ul class="pros-list" id="beam-pros-list">
                                            <li>Excellent load-bearing capacity</li>
                                            <li>Good seismic performance</li>
                                            <li>Fire-resistant</li>
                                            <li>Durable and long-lasting</li>
                                        </ul>
                                    </div>
                                    <div class="cons-section">
                                        <div class="cons-title">
                                            <i class="fas fa-times-circle"></i>
                                            CONS
                                        </div>
                                        <ul class="cons-list" id="beam-cons-list">
                                            <li>Heavy weight increases seismic forces</li>
                                            <li>Complex formwork required</li>
                                            <li>Curing time delays construction</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Alternatives Section -->
                                <div id="beam-alternatives"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Column Types Details -->
                <div class="materials-details" id="column-details">
                    <div class="materials-details-content">
                        <div class="material-left">
                            <div class="material-image-large">
                                <img src="https://i.imgur.com/PE4y0Da.jpg" alt="Column Types">
                            </div>
                            <div class="material-stats">
                                <div class="material-stat">
                                    <div class="material-stat-value">1</div>
                                    <div class="material-stat-label">Best Option</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">Critical</div>
                                    <div class="material-stat-label">Vertical Support</div>
                                </div>
                                <div class="material-stat">
                                    <div class="material-stat-value">High</div>
                                    <div class="material-stat-label">Compression Strength</div>
                                </div>
                            </div>
                        </div>
                        <div class="material-right">
                            <h3 class="material-title-large">🏛️ Reinforced Concrete Column with Confinement Reinforcement</h3>
                            <div class="material-description-large">
                                <p>Reinforced concrete columns with confinement reinforcement provide critical vertical support while offering superior earthquake resistance. The confinement reinforcement prevents column failure during seismic events, making them essential for resilient structures.</p>
                                
                                <div class="applicable-hazards-container">
                                    <div class="hazards-title">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        APPLICABLE HAZARDS
                                    </div>
                                    <div class="hazards-list" id="column-hazards-list">
                                        Ground shaking, tsunami (if properly elevated), structural loads
                                    </div>
                                </div>
                                
                                <div class="pros-cons-container">
                                    <div class="pros-section">
                                        <div class="pros-title">
                                            <i class="fas fa-check-circle"></i>
                                            PROS
                                        </div>
                                        <ul class="pros-list" id="column-pros-list">
                                            <li>High compressive strength for multi-story buildings</li>
                                            <li>Excellent earthquake resistance when properly confined</li>
                                            <li>Fire-resistant and durable</li>
                                            <li>Can be designed for tsunami-resistant elevated structures</li>
                                        </ul>
                                    </div>
                                    <div class="cons-section">
                                        <div class="cons-title">
                                            <i class="fas fa-times-circle"></i>
                                            CONS
                                        </div>
                                        <ul class="cons-list" id="column-cons-list">
                                            <li>Heavy (increases earthquake inertia)</li>
                                            <li>Requires proper reinforcement detailing</li>
                                            <li>Difficult to modify after construction</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Alternatives Section -->
                                <div id="column-alternatives"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="designs-section">
            <h2 class="designs-title">STUDENT DESIGN CONCEPTS</h2>
            <div class="designs-grid">
                <div class="design-card">
                    <div class="design-icon">🏠</div>
                    <h3 class="design-title">Coastal Resilient Design</h3>
                    <p class="design-description">Elevated structures with corrosion-resistant materials for coastal areas</p>
                </div>
                <div class="design-card">
                    <div class="design-icon">🌋</div>
                    <h3 class="design-title">Volcanic Ash-Resistant Roof</h3>
                    <p class="design-description">Steep-slope roof designs to prevent ash accumulation</p>
                </div>
                <div class="design-card">
                    <div class="design-icon">💧</div>
                    <h3 class="design-title">Flood-Adaptive Foundation</h3>
                    <p class="design-description">Adjustable foundation systems for flood-prone areas</p>
                </div>
                <div class="design-card">
                    <div class="design-icon">🌀</div>
                    <h3 class="design-title">Typhoon-Resistant Structure</h3>
                    <p class="design-description">Wind-resistant framing and bracing systems</p>
                </div>
            </div>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn prev-btn" onclick="goToPage('location')">← BACK TO GUIDE</button>
            <button class="nav-btn next-btn" onclick="goToPage('education')">LEARN MORE →</button>
        </div>
    </div>

    <div id="education-page" class="page-container">
        <div class="page-header">
            <h1 class="page-title">LEARN & UNDERSTAND</h1>
            <p class="page-subtitle">Educational resources about construction, hazards, and resilient building</p>
        </div>

        <!-- NEW: Barangay Directory Section -->
        <div class="barangay-directory">
            <h2 class="directory-title">GUBAT BARANGAY DIRECTORY</h2>
            <p class="directory-description">
                Choose an area type to see the barangays that belong to it. Each barangay tag shows its area classification.
            </p>
            
            <div class="learn-wrapper">
                <div class="learn-tabs-container">
                    <div class="learn-tab" onclick="filterDirectoryByArea('coastal')"><span class="learn-tab-emoji">🌊</span><span class="learn-tab-name">Coastal</span></div>
                    <div class="learn-tab" onclick="filterDirectoryByArea('rural')"><span class="learn-tab-emoji">🌾</span><span class="learn-tab-name">Rural</span></div>
                    <div class="learn-tab" onclick="filterDirectoryByArea('urban')"><span class="learn-tab-emoji">🏙️</span><span class="learn-tab-name">Urban</span></div>
                    <div class="learn-tab" onclick="filterDirectoryByArea('upland')"><span class="learn-tab-emoji">⛰️</span><span class="learn-tab-name">Upland</span></div>
                </div>
                <div class="learn-results-wrapper">
                    <div id="directory-results" class="learn-barangay-grid">
                        <!-- Directory items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Articles Section (moved here from Home and made clickable) -->
        <div id="articles-section" class="articles-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-newspaper"></i>
                    Featured Learning Articles
                </h2>
                <p class="section-subtitle">Click any article below to learn more.</p>
            </div>
            <div class="articles-container" id="articles-container">
                <!-- Articles populated from data/articles.json -->
            </div>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn prev-btn" onclick="goToPage('results')">← BACK TO RESULTS</button>
            <button class="nav-btn next-btn" onclick="goToPage('about')">ABOUT PROJECT →</button>
        </div>
    </div>

    <div id="about-page" class="page-container">
        <div class="page-header">
            <h1 class="page-title">ABOUT THE PROJECT</h1>
            <p class="page-subtitle">Gubat Resilient Housing - A Student-Led Research Initiative</p>
        </div>

        <div class="about-content">
            <div class="about-section">
                <h2 class="section-title">🎯 PROJECT PURPOSE</h2>
                <p class="section-content">
                    The Gubat Resilient Housing is a capstone project developed by students to help 
                    residents and builders in Gubat, Sorsogon make informed decisions about construction 
                    materials. Our goal is to promote resilient, safe, and affordable housing by providing 
                    personalized recommendations based on location-specific hazards and conditions.
                </p>
            </div>

            <div class="about-section">
                <h2 class="section-title">📍 WHY GUBAT?</h2>
                <p class="section-content">
                    Gubat was chosen due to its diverse geographical features and varying environmental 
                    hazards across different barangays. From coastal areas to upland communities, each 
                    zone presents unique challenges for construction. This project aims to address these 
                    specific needs through localized research and data analysis.
                </p>
            </div>

            <div class="about-section">
                <h2 class="section-title">👥 STUDENT-LED RESEARCH TEAM</h2>
                <p class="section-content">
                    This project is entirely research-based and student-led, combining field studies, 
                    interviews with local builders, and analysis of construction practices in Gubat.
                </p>
                
                <div class="team-grid">
                    <div class="team-member" onclick="openTeamModal('layout')">
                        <div style="font-size: 1.8em;">🎨</div>
                        <div>Layout and Design</div>
                        <div class="member-role">3 Members</div>
                    </div>
                    <div class="team-member" onclick="openTeamModal('programming')">
                        <div style="font-size: 1.8em;">💻</div>
                        <div>Programming</div>
                        <div class="member-role">1 Member</div>
                    </div>
                    <div class="team-member" onclick="openTeamModal('information')">
                        <div style="font-size: 1.8em;">📄</div>
                        <div>Information Experts</div>
                        <div class="member-role">5 Members</div>
                    </div>
                    <div class="team-member" onclick="openTeamModal('data')">
                        <div style="font-size: 1.8em;">📊</div>
                        <div>Data Expert</div>
                        <div class="member-role">4 Members</div>
                    </div>
                    <div class="team-member" onclick="openTeamModal('engineering')">
                        <div style="font-size: 1.8em;">🏗️</div>
                        <div>Engineering Experts</div>
                        <div class="member-role">5 Members</div>
                    </div>
                    <div class="team-member" onclick="openTeamModal('navigators')">
                        <div style="font-size: 1.8em;">🧭</div>
                        <div>Navigators</div>
                        <div class="member-role">15 Members</div>
                    </div>
                </div>
            </div>

            <div class="about-section">
                <h2 class="section-title">📊 DATA SOURCES</h2>
                <p class="section-content">
                    Our recommendations are based on multiple data sources:
                </p>
                <ul style="color: var(--text-muted); line-height: 1.8; padding-left: 20px; margin-top: 15px; font-size: 0.95em;">
                    <li>Local Government Unit (LGU) of Gubat - Hazard maps and zoning regulations</li>
                    <li>PAGASA - Weather patterns and climate data</li>
                    <li>PHIVOLCS - Seismic and volcanic hazard assessments</li>
                    <li>Field research - Interviews with local builders and residents</li>
                    <li>Academic research - Construction material studies and resilience testing</li>
                </ul>
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <h3 style="color: var(--highlight); margin-bottom: 20px;">CONNECT WITH US</h3>
                <div class="social-links">
                    <a href="#" class="social-link">📘</a>
                    <a href="#" class="social-link">📷</a>
                    <a href="#" class="social-link">📧</a>
                    <a href="#" class="social-link">🎥</a>
                </div>
            </div>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn prev-btn" onclick="goToPage('education')">← BACK TO LEARNING</button>
            <button class="nav-btn next-btn" onclick="goToPage('home')">BACK TO HOME →</button>
        </div>
    </div>

    <!-- Team Member Modals -->
    <!-- Layout and Design Modal -->
    <div id="team-modal-layout" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title"><span style="font-size: 1.5em;">🎨</span> Layout and Design</h2>
                <button class="modal-close" onclick="closeTeamModal('layout')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="member-list">
                    <div class="member-item">
                        <div class="member-name">Donna Jane Oliquino</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Jeanne Eabas</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Mel Arnold Boy</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Programming Modal -->
    <div id="team-modal-programming" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title"><span style="font-size: 1.5em;">💻</span> Programming</h2>
                <button class="modal-close" onclick="closeTeamModal('programming')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="member-list">
                    <div class="member-item">
                        <div class="member-name">Ian H. Escalderon</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Information Experts Modal -->
    <div id="team-modal-information" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title"><span style="font-size: 1.5em;">📄</span> Information Experts</h2>
                <button class="modal-close" onclick="closeTeamModal('information')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="member-list">
                    <div class="member-item">
                        <div class="member-name">Bernadette Bolso</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Vrille Bernales</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Arien Azel San Juan</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Maria Althea Ysabelle Vallena</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Frexie Joyce Estopace</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Expert Modal -->
    <div id="team-modal-data" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title"><span style="font-size: 1.5em;">📊</span> Data Expert</h2>
                <button class="modal-close" onclick="closeTeamModal('data')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="member-list">
                    <div class="member-item">
                        <div class="member-name">Nicole May Quisel</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Alyza Funtanares</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Donna Mae Desaliza</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Leema Enguerra</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Mark Jhudiel Villareal</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Engineering Experts Modal -->
    <div id="team-modal-engineering" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title"><span style="font-size: 1.5em;">🏗️</span> Engineering Experts</h2>
                <button class="modal-close" onclick="closeTeamModal('engineering')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="member-list">
                    <div class="member-item">
                        <div class="member-name">Lyzza Faye Escandor</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Sophia Camposano</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Sophia Angelou Esteves</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Allysa Mae Ducay</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Kurt Andrie Gamas</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigators Modal -->
    <div id="team-modal-navigators" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title"><span style="font-size: 1.5em;">🧭</span> Navigators</h2>
                <button class="modal-close" onclick="closeTeamModal('navigators')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="member-list">
                    <div class="member-item">
                        <div class="member-name">Sir Winston Adrian Felonia</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">John Leo Desacula</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Keircy Amenin</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Ariane Habla</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Reina Fererras</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Shania Enolva</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Damielle Nuyda</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Precious Escanilla</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Nonie Escullar</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Charles Lopez</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Meryl Jhanin Higila</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Marsielle Espaldon</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Louie Trinchera</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Marie Clare Doctor</div>
                    </div>
                    <div class="member-item">
                        <div class="member-name">Prince Ezekiel Panlaque</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Article Detail Page - News Layout -->
    <div id="article-detail-page" class="page-container">
        <div class="page-header">
            <p class="article-detail-category-tag" id="article-detail-category">Category</p>
            <h1 class="article-detail-headline" id="article-detail-title">Article Title</h1>
            <p class="article-detail-byline" id="article-detail-author">By Author</p>
            <p class="article-detail-date" id="article-detail-date">Date</p>
        </div>

        <div class="article-detail-layout">
            <div class="article-detail-main">
                <div class="article-detail-image">
                    <img id="article-detail-img" src="" alt="Article image">
                </div>
                <div class="article-detail-body" id="article-detail-body">
                    <!-- Full article content will be inserted here -->
                </div>
            </div>

            <aside class="article-detail-recommended">
                <h3>Recommended</h3>
                <div class="recommended-articles-list" id="recommended-articles-list">
                    <!-- Other articles populated by JavaScript -->
                </div>
            </aside>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn prev-btn" onclick="goToPage('education')">← BACK TO ARTICLES</button>
            <button class="nav-btn next-btn" onclick="goToPage('about')">ABOUT PROJECT →</button>
        </div>
    </div>

    <script src="data/articles.js"></script>
    <script>
        const userSelections = {
            area: null,
            barangay: null,
            hazards: []
        };

        const allBarangays = [
            { name: "Ariman", types: ["coastal", "rural"], description: "Coastal and rural area with agricultural activities", hazards: ["flood", "sea-level-rise", "ground-shaking"] },
            { name: "Bagacay", types: ["coastal", "rural", "upland"], description: "Mixed area with coastal, rural and upland characteristics", hazards: ["flood", "storm-surge", "rain-landslide"] },
            { name: "Balud Del Norte (Poblacion)", types: ["coastal", "rural"], description: "Coastal poblacion area with residential establishments", hazards: ["flood", "storm-surge", "sea-level-rise"] },
            { name: "Balud Del Sur (Poblacion)", types: ["coastal", "rural"], description: "Southern coastal poblacion area", hazards: ["flood", "storm-surge", "sea-level-rise"] },
            { name: "Benguet", types: ["rural", "upland"], description: "Upland area with agricultural terraces", hazards: ["rain-landslide", "ashfall", "earthquake-landslide"] },
            { name: "Bentuco", types: ["rural", "upland"], description: "Upland rural area with farming activities", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Beriran", types: ["rural", "upland"], description: "Upland agricultural community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Buenavista", types: ["coastal", "rural"], description: "Coastal rural area with scenic views", hazards: ["flood", "storm-surge", "sea-level-rise"] },
            { name: "Bulacao", types: ["rural"], description: "Agricultural area with irrigation systems", hazards: ["flood", "ground-shaking"] },
            { name: "Cabigaan", types: ["rural", "upland"], description: "Upland farming community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Cabiguhan", types: ["rural", "upland"], description: "Upland rural area with local markets", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Carriedo", types: ["rural", "upland"], description: "Agricultural barangay in upland area", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Casili", types: ["rural", "upland"], description: "Rural community with farming activities in upland", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Cogon", types: ["coastal", "rural"], description: "Coastal agricultural area", hazards: ["flood", "sea-level-rise", "storm-surge"] },
            { name: "Cota Na Daco (Poblacion)", types: ["urban"], description: "Urban poblacion area with mixed residential and commercial", hazards: ["flood", "ground-shaking", "typhoon"] },
            { name: "Dita (Estillero)", types: ["rural", "upland"], description: "Upland rural area", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Jupi (Estillero)", types: ["rural", "upland"], description: "Upland rural residential area", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Lapinig (Estillero)", types: ["rural", "upland"], description: "Upland agricultural community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Luna-Candol (Poblacion)", types: ["urban"], description: "Urban poblacion area with commercial establishments", hazards: ["flood", "ground-shaking", "typhoon"] },
            { name: "Manapao", types: ["rural", "upland"], description: "Upland agricultural community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Manook (Poblacion)", types: ["urban"], description: "Urban poblacion area", hazards: ["ground-shaking", "typhoon"] },
            { name: "Naagtan", types: ["rural"], description: "Rural agricultural area", hazards: ["flood", "ground-shaking"] },
            { name: "Nato", types: ["rural", "upland"], description: "Upland farming community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Nazareno", types: ["rural", "upland"], description: "Agricultural barangay in upland", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Ogao", types: ["coastal", "rural"], description: "Coastal rural community", hazards: ["flood", "storm-surge", "sea-level-rise"] },
            { name: "Paco", types: ["rural", "upland"], description: "Upland agricultural area", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Panganiban (Poblacion)", types: ["urban", "coastal"], description: "Urban coastal poblacion with commercial activities", hazards: ["flood", "ground-shaking", "storm-surge", "sea-level-rise"] },
            { name: "Paradijon (Poblacion)", types: ["urban"], description: "Urban poblacion area", hazards: ["flood", "ground-shaking", "typhoon"] },
            { name: "Patag", types: ["rural", "upland"], description: "Flat agricultural land in upland", hazards: ["flood", "rain-landslide"] },
            { name: "Payawin", types: ["rural", "upland"], description: "Upland farming community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Pinontingan (Poblacion)", types: ["urban"], description: "Urban poblacion area", hazards: ["ground-shaking", "typhoon"] },
            { name: "Rizal", types: ["coastal", "rural"], description: "Coastal area with black sand beaches and rural activities", hazards: ["flood", "storm-surge", "typhoon", "sea-level-rise"] },
            { name: "San Ignacio", types: ["rural", "coastal"], description: "Coastal rural agricultural community", hazards: ["flood", "sea-level-rise", "storm-surge"] },
            { name: "Sangat", types: ["rural", "upland"], description: "Upland rural barangay with farming activities", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Santa Ana", types: ["rural", "upland"], description: "Upland agricultural community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Tabi", types: ["rural", "upland"], description: "Upland rural area with traditional farming", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Tagaytay", types: ["rural", "upland"], description: "Elevated area with scenic views and agricultural land", hazards: ["rain-landslide", "earthquake-landslide", "ashfall"] },
            { name: "Tigkiw", types: ["rural", "upland"], description: "Upland agricultural community", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Tiris", types: ["coastal", "upland", "rural"], description: "Mixed coastal-upland-rural area", hazards: ["flood", "storm-surge", "rain-landslide", "sea-level-rise"] },
            { name: "Togawe", types: ["rural", "upland"], description: "Mountainous barangay with cool climate and farming", hazards: ["rain-landslide", "ashfall", "earthquake-landslide"] },
            { name: "Union", types: ["rural", "upland"], description: "Upland community with agricultural activities", hazards: ["rain-landslide", "earthquake-landslide"] },
            { name: "Villareal", types: ["rural", "upland"], description: "Upland agricultural barangay", hazards: ["rain-landslide", "earthquake-landslide"] }
        ];

        // Updated hazard data with the 9 new hazards
        const hazardData = [
            { id: "flood", name: "Flood", description: "Area experiences regular flooding during heavy rains", icon: "💧" },
            { id: "rain-landslide", name: "Rain-Induced Landslide", description: "Landslides caused by heavy rainfall and saturated soil", icon: "⛰️" },
            { id: "storm-surge", name: "Storm Surge", description: "Coastal flooding from tropical cyclones and strong winds", icon: "🌊" },
            { id: "sea-level-rise", name: "Sea Level Rise", description: "Coastal areas affected by rising sea levels", icon: "📈" },
            { id: "earthquake-landslide", name: "Earthquake-Induced Landslides", description: "Landslides triggered by seismic activity", icon: "🌍" },
            { id: "ground-shaking", name: "Ground Shaking", description: "Seismic activity and earthquake ground motion", icon: "⚡" },
            { id: "tsunami", name: "Tsunami", description: "Large ocean waves caused by underwater earthquakes", icon: "🌊" },
            { id: "ashfall", name: "Ash Fall", description: "Volcanic ash accumulation from nearby volcanoes", icon: "🌋" },
            { id: "typhoon", name: "Typhoons", description: "Strong tropical cyclones with high winds and heavy rain", icon: "🌀" }
        ];

        // Barangay-specific material customizations (for barangays without full system data)
        const barangayMaterialOverrides = {
            "Sangat": {
                foundation: {
                    name: "Pile Foundation with Reinforced Concrete",
                    applicableHazards: "Rain-induced landslides, ground shaking, ash fall, typhoons, flood, soil erosion, drought",
                    description: "Deep anchorage for unstable soils; reduces settlement in earthquakes; resists typhoon lateral/vertical loads; supports added ash load.",
                    pros: [
                        "Deep anchorage to stable soil layers prevents settlement in unstable ground",
                        "Excellent earthquake resistance with deep support",
                        "Resists typhoon uplift and lateral forces",
                        "Supports added ash load from volcanic activity",
                        "Prevents scour and erosion in flood-prone upland areas"
                    ],
                    cons: [
                        "High construction cost",
                        "Requires specialized equipment and expertise",
                        "Complex construction process",
                        "May face accessibility challenges in remote upland areas"
                    ]
                },
                wall: {
                    name: "Reinforced Concrete Wall System",
                    applicableHazards: "Rain-induced landslides, ground shaking, ash fall, typhoons, flood, soil erosion",
                    description: "Strong load-bearing and lateral resistance for earthquakes and typhoons; durable in moisture; maintains integrity during soil movement; handles ash-related loading.",
                    pros: [
                        "Strong load-bearing and lateral resistance for quakes/typhoons",
                        "Maintains integrity during soil movement and landslides",
                        "Durable in high-moisture upland environment",
                        "Excellent capacity for added ash loads",
                        "Fire-resistant and weather-resistant"
                    ],
                    cons: [
                        "Expensive material and labor costs",
                        "Very heavy; requires strong foundation",
                        "Requires skilled labor for proper installation",
                        "Limited thermal insulation without additional materials"
                    ]
                },
                floor: {
                    name: "Suspended Floor with Reinforced Concrete Slab",
                    applicableHazards: "Rain-induced landslides, ground shaking, ash fall, typhoons, flood",
                    description: "Elevated and lighter seismic demand; reduces flood/erosion exposure; durable, fire- and moisture-resistant.",
                    pros: [
                        "Elevated design reduces flood and erosion exposure",
                        "Lighter than solid-slab floors reduces seismic demand",
                        "Fire-resistant and moisture-resistant",
                        "Excellent durability in high-rainfall areas",
                        "Allows for water/debris flow beneath during flooding"
                    ],
                    cons: [
                        "More complex construction than ground-level slabs",
                        "Requires careful detailing for connection integrity",
                        "Higher cost than simple concrete slab-on-grade",
                        "Requires strong supporting columns and beams"
                    ]
                },
                roof: {
                    name: "Hip Roof with Metal Roofing",
                    applicableHazards: "Rain-induced landslides, ground shaking, ash fall, typhoons",
                    description: "Hip roof improves wind resistance, drainage, and earthquake stability; sheds ash. Metal roofing is lightweight, non-combustible, and typhoon-resistant when properly fastened/coated.",
                    pros: [
                        "Hip geometry improves wind resistance and reduces uplift",
                        "Excellent water and ash drainage",
                        "Lightweight reduces seismic demand and foundation loads",
                        "Non-combustible and fire-resistant",
                        "Typhoon-resistant when properly fastened with high-strength connections",
                        "Corrosion-resistant coatings provide longevity in high-rainfall areas"
                    ],
                    cons: [
                        "More expensive than gable roofs",
                        "Metal can be noisy during heavy rain (mitigated with insulation)",
                        "Requires proper fastening to resist high winds",
                        "Professional installation required for optimal performance"
                    ]
                },
                column: {
                    name: "Reinforced Concrete Stilt Columns with Diagonal Bracing",
                    applicableHazards: "Rain-induced landslides, ground shaking, ash fall, typhoons, flood, soil erosion",
                    description: "Elevation helps flooding and erosion; bracing and strong connections are essential for wind and quake resistance.",
                    pros: [
                        "Elevation protects against flooding and erosion in upland areas",
                        "Diagonal bracing provides lateral resistance to earthquakes and typhoons",
                        "Circular columns provide superior wind-resistance performance",
                        "Allows for water/debris flow beneath structure",
                        "Strong connections prevent column spread during seismic events",
                        "Durable reinforced concrete resists weathering"
                    ],
                    cons: [
                        "Requires careful bracing design for wind and seismic forces",
                        "Higher construction cost than simple columns",
                        "Requires specialized detailing of connections",
                        "Elevated design may complicate maintenance access"
                    ]
                },
                beam: {
                    name: "Reinforced Concrete Beams with Tie/Ring Beams",
                    applicableHazards: "Rain-induced landslides, ground shaking, ash fall, typhoons",
                    description: "Continuous frame action; tie beams prevent column spread/failure in earthquakes and uneven ground movement; improves typhoon resistance.",
                    pros: [
                        "Tie/ring beams create monolithic frame preventing column spread",
                        "Excellent earthquake resistance with continuous load path",
                        "Improves typhoon wind-load distribution",
                        "Prevents progressive collapse from uneven settlement",
                        "Strong resistance to lateral forces from soil movement",
                        "Durable and long-lasting in upland climate"
                    ],
                    cons: [
                        "More complex formwork and reinforcement detailing required",
                        "Higher labor and material costs",
                        "Longer construction time for proper curing",
                        "Requires skilled engineers and builders for proper design"
                    ]
                }
            }
        };

        // Articles data - loaded from data/articles.js
        let articlesData = [];

        function loadArticles() {
            const container = document.getElementById('articles-container');
            try {
                // First try to use the pre-loaded articles.js data
                if (typeof window.articlesData !== 'undefined' && window.articlesData.length > 0) {
                    articlesData = window.articlesData;
                } else {
                    // Fallback: try to fetch articles.json
                    fetch('data/articles.json')
                        .then(res => res.json())
                        .then(data => {
                            articlesData = data;
                            renderArticles();
                        })
                        .catch(err => {
                            if (container) {
                                container.innerHTML = '<p style="color: var(--text-muted); padding: 20px;">Unable to load articles. Please ensure data/articles.json or data/articles.js exists.</p>';
                            }
                        });
                    return;
                }
            } catch (err) {
                if (container) {
                    container.innerHTML = '<p style="color: var(--text-muted); padding: 20px;">Unable to load articles.</p>';
                }
                return;
            }
            if (articlesData && articlesData.length > 0) {
                renderArticles();
            } else if (container) {
                container.innerHTML = '<p style="color: var(--text-muted); padding: 20px;">No articles available.</p>';
            }
        }

        function renderArticles() {
            const container = document.getElementById('articles-container');
            if (!container) return;
            container.innerHTML = articlesData.map(a => `
                <article class="article-card" onclick="showArticleDetail(${a.id})">
                    <div class="article-image">
                        <img src="${a.image}" alt="${a.title}">
                    </div>
                    <div class="article-content">
                        <div class="article-category">${a.category}</div>
                        <h3 class="article-title">${a.title}</h3>
                        <a href="#" class="article-read-more" onclick="event.stopPropagation(); showArticleDetail(${a.id})">Learn More →</a>
                    </div>
                </article>
            `).join('');
        }

        // Articles content in data/articles.json

        // Updated materials data - main (best) material plus practical alternatives for each category
        const materialsData = {
            floor: [
                { 
                    name: "Steel-Reinforced Concrete Floor", 
                    category: "Floor Structures",
                    applicableHazards: "Ground shaking, typhoon, flood",
                    pros: [
                        "Excellent seismic resistance for ground shaking",
                        "Very strong and durable",
                        "Fire-resistant and water-resistant"
                    ],
                    cons: [
                        "Heavy (needs strong foundation)",
                        "Higher cost than other options",
                        "Requires skilled labor"
                    ],
                    alternatives: [
                        {
                            name: "Reinforced Concrete Slab on Fill",
                            description: "Concrete slab cast on compacted fill. Suitable for areas with low to moderate flood risk and good soil conditions.",
                            pros: [
                                "Lower cost than elevated systems",
                                "Simple construction using common local practices"
                            ],
                            cons: [
                                "Not recommended for areas with deep or frequent flooding",
                                "Prone to cracking if soil is not well-compacted"
                            ]
                        },
                        {
                            name: "Timber Floor on Raised Reinforced Concrete Beams",
                            description: "Lightweight timber floor supported by reinforced concrete beams or piers. Useful for areas with occasional flooding.",
                            pros: [
                                "Lighter than full concrete slab",
                                "Can be repaired or replaced in sections"
                            ],
                            cons: [
                                "Timber components require regular maintenance against termites and moisture",
                                "Lower fire resistance than full concrete floor"
                            ]
                        }
                    ]
                }
            ],
            foundation: [
                { 
                    name: "Pile Foundation with Reinforced Concrete", 
                    category: "Foundation Types",
                    applicableHazards: "Flood, storm surge, sea level rise, ground shaking",
                    pros: [
                        "Excellent for flood-prone and coastal areas",
                        "Minimizes settlement in soft soils",
                        "Good earthquake resistance when properly designed"
                    ],
                    cons: [
                        "High construction cost",
                        "Complex construction process",
                        "Requires specialized equipment"
                    ],
                    alternatives: [
                        {
                            name: "Reinforced Concrete Footing with Tie Beams",
                            description: "Spread footings connected by reinforced concrete tie beams. Works for sites with relatively firm soil and moderate hazard levels.",
                            pros: [
                                "Commonly used and well-understood by local builders",
                                "More economical than deep pile foundations"
                            ],
                            cons: [
                                "Not suitable for very soft or highly erodible soils",
                                "Less effective in areas with severe scour or deep flooding"
                            ]
                        },
                        {
                            name: "Elevated Reinforced Concrete Stilt (Pier) Foundation",
                            description: "Reinforced concrete columns elevate the main floor above expected flood level.",
                            pros: [
                                "Reduces direct flood damage to living spaces",
                                "Can be combined with open ground level for water flow"
                            ],
                            cons: [
                                "Requires careful lateral bracing for typhoon and earthquake loads",
                                "Increased construction height may add cost"
                            ]
                        }
                    ]
                }
            ],
            wall: [
                { 
                    name: "Reinforced Concrete Wall with Proper Bracing", 
                    category: "Wall Structures",
                    applicableHazards: "Ground shaking, typhoon, earthquake-induced landslides",
                    pros: [
                        "Excellent earthquake and wind resistance",
                        "Fire-resistant and durable",
                        "Strong structural integrity"
                    ],
                    cons: [
                        "Expensive material and labor costs",
                        "Very heavy; requires strong foundation",
                        "Poor thermal insulation without additional materials"
                    ],
                    alternatives: [
                        {
                            name: "Confined Masonry Wall (Hollow Blocks with RC Columns and Beams)",
                            description: "Concrete hollow block walls confined by reinforced concrete columns and beams.",
                            pros: [
                                "Uses widely available hollow block materials",
                                "Better performance than unreinforced masonry when properly detailed"
                            ],
                            cons: [
                                "Quality depends heavily on block strength and workmanship",
                                "Still heavier than lightweight panel systems"
                            ]
                        },
                        {
                            name: "Lightweight Framed Wall with Sheathing (e.g., Steel or Timber Frame)",
                            description: "Framed wall system with sheathing panels and proper bracing.",
                            pros: [
                                "Lighter system reduces earthquake forces",
                                "Faster construction and easier modification"
                            ],
                            cons: [
                                "Requires proper connections and bracing to perform well in typhoons",
                                "Lower inherent fire resistance unless protected"
                            ]
                        }
                    ]
                }
            ],
            roof: [
                { 
                    name: "Hip Roof with Metal Roofing and Proper Anchoring", 
                    category: "Roofing Structures",
                    applicableHazards: "Typhoon, ground shaking, ash fall",
                    pros: [
                        "Excellent wind resistance for typhoon-prone areas",
                        "Metal roofing sheds ash fall effectively",
                        "Proper anchoring provides earthquake resistance",
                        "Good water drainage"
                    ],
                    cons: [
                        "More expensive than gabled roofs",
                        "Metal can be noisy during heavy rain",
                        "Requires proper installation to prevent leaks"
                    ],
                    alternatives: [
                        {
                            name: "Gable Roof with Metal Roofing and Bracing",
                            description: "Traditional gable roof strengthened with proper bracing, straps, and anchorage.",
                            pros: [
                                "Familiar to many local builders",
                                "Can be upgraded with better fasteners and straps for typhoon resistance"
                            ],
                            cons: [
                                "More vulnerable to uplift at gable ends if not properly braced",
                                "Less stable than hip roofs under extreme winds"
                            ]
                        },
                        {
                            name: "Hip Roof with Fiber-Cement or Tile Roofing",
                            description: "Hip roof using heavier but durable roofing materials.",
                            pros: [
                                "Good durability and fire resistance",
                                "Heavier roofing can resist uplift if connections are strong"
                            ],
                            cons: [
                                "Heavier system increases demands on the structure",
                                "Not ideal in high ash-fall zones if slopes are shallow"
                            ]
                        }
                    ]
                }
            ],
            beam: [
                { 
                    name: "Reinforced Concrete Beam with Steel Reinforcement", 
                    category: "Beam Types",
                    applicableHazards: "Ground shaking, typhoon, earthquake-induced structural stress",
                    pros: [
                        "Excellent load-bearing capacity",
                        "Good seismic performance",
                        "Fire-resistant",
                        "Durable and long-lasting"
                    ],
                    cons: [
                        "Heavy weight increases seismic forces",
                        "Complex formwork required",
                        "Curing time delays construction"
                    ],
                    alternatives: [
                        {
                            name: "Precast Reinforced Concrete Beam",
                            description: "Factory-cast reinforced concrete beams lifted into place on site.",
                            pros: [
                                "Better quality control in a controlled casting environment",
                                "Faster installation once delivered on site"
                            ],
                            cons: [
                                "Requires lifting equipment and careful handling",
                                "Transport limitations for remote areas"
                            ]
                        },
                        {
                            name: "Steel I-Beam with Concrete Slab or Deck",
                            description: "Structural steel beams supporting concrete slab or decking system.",
                            pros: [
                                "High strength-to-weight ratio",
                                "Can span longer distances with smaller sections"
                            ],
                            cons: [
                                "Requires corrosion protection in coastal areas",
                                "Needs fire protection (encasement or coatings)"
                            ]
                        }
                    ]
                }
            ],
            column: [
                { 
                    name: "Reinforced Concrete Column with Confinement Reinforcement", 
                    category: "Column Types",
                    applicableHazards: "Ground shaking, tsunami (if properly elevated), structural loads",
                    pros: [
                        "High compressive strength for multi-story buildings",
                        "Excellent earthquake resistance when properly confined",
                        "Fire-resistant and durable",
                        "Can be designed for tsunami-resistant elevated structures"
                    ],
                    cons: [
                        "Heavy (increases earthquake inertia)",
                        "Requires proper reinforcement detailing",
                        "Difficult to modify after construction"
                    ],
                    alternatives: [
                        {
                            name: "Rectangular Reinforced Concrete Column with Ties",
                            description: "Standard reinforced concrete column with closely spaced ties.",
                            pros: [
                                "Common and familiar to local engineers and builders",
                                "Good performance when ties are properly spaced and anchored"
                            ],
                            cons: [
                                "More vulnerable to brittle failure if ties are too widely spaced",
                                "Still heavy compared to steel or composite columns"
                            ]
                        },
                        {
                            name: "Structural Steel Column Encased in Concrete",
                            description: "Steel column encased in concrete for fire protection and durability.",
                            pros: [
                                "Combines high strength of steel with fire resistance of concrete",
                                "Can provide slimmer sections for some layouts"
                            ],
                            cons: [
                                "More complex detailing and construction sequence",
                                "Requires corrosion protection at base and connections"
                            ]
                        }
                    ]
                }
            ]
        };

        let currentStep = 1;
        // We now have 3 steps: Area → Barangay → Materials/Results
        const totalSteps = 3;

        const loadingScreen = document.getElementById('loading-screen');
        const pageTransition = document.getElementById('page-transition');
        const searchModal = document.getElementById('search-modal');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        const mobileNavMenu = document.getElementById('mobile-nav-menu');

        const pages = {
            home: document.getElementById('home-page'),
            location: document.getElementById('location-page'),
            results: document.getElementById('results-page'),
            education: document.getElementById('education-page'),
            about: document.getElementById('about-page')
        };

        window.addEventListener('load', () => {
            setTimeout(() => {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 1000);
            }, 1500);
            
            renderBarangayList();
            // Hazard selection step has been removed; keep data for labels but skip rendering cards
            renderAreaStats();
            renderDirectory('coastal');
            setupEventListeners();
        });

        function setupEventListeners() {
            // Search input
            searchInput.addEventListener('input', handleSearch);
        }

        // Function to show material details
        function showMaterialDetails(materialType) {
            // Remove active class from all tabs
            document.querySelectorAll('.material-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Add active class to clicked tab
            const clickedTab = document.querySelector(`.material-tab[onclick="showMaterialDetails('${materialType}')"]`);
            if (clickedTab) {
                clickedTab.classList.add('active');
            }
            
            // Hide all material details
            document.querySelectorAll('.materials-details').forEach(details => {
                details.classList.remove('active');
            });
            
            // Show selected material details
            const materialDetails = document.getElementById(`${materialType}-details`);
            if (materialDetails) {
                materialDetails.classList.add('active');
                updateMaterialDetails(materialType);
            }
            
            // Scroll to details if on mobile
            if (window.innerWidth < 768) {
                materialDetails.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // Function to update material details
        function updateMaterialDetails(materialType) {
            const materials = materialsData[materialType];
            if (!materials || materials.length === 0) return;
            
            // Always show the first material as the main/best recommendation
            const material = materials[0];
            
            // Update hazards list
            const hazardsList = document.getElementById(`${materialType}-hazards-list`);
            if (hazardsList) {
                hazardsList.textContent = material.applicableHazards;
            }
            
            // Update pros list
            const prosList = document.getElementById(`${materialType}-pros-list`);
            if (prosList) {
                prosList.innerHTML = material.pros.map(pro => `<li>${pro}</li>`).join('');
            }
            
            // Update cons list
            const consList = document.getElementById(`${materialType}-cons-list`);
            if (consList) {
                consList.innerHTML = material.cons.map(con => `<li>${con}</li>`).join('');
            }
            
            // Update title
            const titleElement = document.querySelector(`#${materialType}-details .material-title-large`);
            if (titleElement) {
                // Get icon based on material type
                const icons = {
                    'floor': '🏗️',
                    'foundation': '🏢',
                    'wall': '🧱',
                    'roof': '🏠',
                    'beam': '📏',
                    'column': '🏛️'
                };
                const icon = icons[materialType] || '📦';
                titleElement.innerHTML = `${icon} ${material.name}`;
            }

            // Update alternatives section (if any alternatives are defined)
            const alternativesContainer = document.getElementById(`${materialType}-alternatives`);
            if (alternativesContainer) {
                const hasAlternatives = Array.isArray(material.alternatives) && material.alternatives.length > 0;
                
                if (!hasAlternatives) {
                    alternativesContainer.style.display = 'none';
                    alternativesContainer.innerHTML = '';
                } else {
                    alternativesContainer.style.display = 'block';
                    alternativesContainer.innerHTML = `
                        <div class="alternatives-header">
                            <h4>
                                <span>🔁 Alternative Options</span>
                            </h4>
                            <p style="color: var(--text-muted); font-size: 0.9em;">
                                These alternatives may be considered when the main recommended material is not feasible due to budget, availability, or site conditions. Always consult with a licensed engineer before changing structural materials.
                            </p>
                        </div>
                        ${material.alternatives.map(alt => `
                            <div class="alternative-option">
                                <div class="alternative-icon">🧱</div>
                                <div class="alternative-details">
                                    <div class="alternative-name">${alt.name}</div>
                                    <div class="alternative-description">${alt.description}</div>
                                    <div class="alternative-pros-cons">
                                        <div class="alt-pros">
                                            <strong>Pros:</strong> ${alt.pros.join('; ')}
                                        </div>
                                        <div class="alt-cons">
                                            <strong>Cons:</strong> ${alt.cons.join('; ')}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    `;
                }
            }
        }

        // NEW: Function to render area statistics
        function renderAreaStats() {
            const container = document.getElementById('area-stats-grid');
            if (!container) return;
            
            // Count barangays by area type
            const areaCounts = {
                coastal: 0,
                rural: 0,
                urban: 0,
                upland: 0
            };
            
            allBarangays.forEach(barangay => {
                barangay.types.forEach(type => {
                    if (areaCounts.hasOwnProperty(type)) {
                        areaCounts[type]++;
                    }
                });
            });
            
            // Get sample barangays for each area type
            const sampleBarangays = {
                coastal: ["Rizal", "Bentuco", "Cota Na Daco", "Balud Del Norte"],
                rural: ["Banay-banay", "Tabi", "Tiris", "Paradijon"],
                urban: ["Poblacion", "Jupi", "Bagacay", "Panganiban"],
                upland: ["Benguet", "Togawe", "Ariman", "Tagaytay"]
            };
            
            // Area type details
            const areaTypes = [
                {
                    type: "coastal",
                    icon: "🌊",
                    name: "Coastal Areas",
                    count: areaCounts.coastal,
                    description: "Near coastline with saltwater exposure",
                    sample: sampleBarangays.coastal.join(", ")
                },
                {
                    type: "rural",
                    icon: "🌾",
                    name: "Rural Areas",
                    count: areaCounts.rural,
                    description: "Agricultural and residential areas",
                    sample: sampleBarangays.rural.join(", ")
                },
                {
                    type: "urban",
                    icon: "🏙️",
                    name: "Urban Areas",
                    count: areaCounts.urban,
                    description: "Densely populated commercial areas",
                    sample: sampleBarangays.urban.join(", ")
                },
                {
                    type: "upland",
                    icon: "⛰️",
                    name: "Upland Areas",
                    count: areaCounts.upland,
                    description: "Elevated areas with sloping terrain",
                    sample: sampleBarangays.upland.join(", ")
                }
            ];
            
            container.innerHTML = areaTypes.map(area => `
                <div class="area-stat-card">
                    <div class="area-stat-icon">${area.icon}</div>
                    <div class="area-stat-value">${area.count}</div>
                    <div class="area-stat-label">${area.name}</div>
                    <div style="color: var(--text-muted); font-size: 0.85em; margin-top: 5px;">${area.description}</div>
                    <div class="area-stat-barangays">Sample: ${area.sample}</div>
                </div>
            `).join('');
        }

        // NEW: Function to render barangay directory grouped by area type
        function renderDirectory(selectedArea = 'coastal') {
            const container = document.getElementById('directory-results');
            if (!container) return;
            
            const filtered = allBarangays.filter(b => b.types.includes(selectedArea));
            
            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="directory-empty">
                        <div style="font-size: 3em; color: var(--accent-color); margin-bottom: 15px;">🔍</div>
                        <h3 style="color: var(--highlight); margin-bottom: 10px;">No barangays found</h3>
                        <p>Try selecting a different area type.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = filtered.map(barangay => {
                const typeBadges = barangay.types.map(type => {
                    const typeNames = {
                        'coastal': 'Coastal',
                        'rural': 'Rural',
                        'urban': 'Urban',
                        'upland': 'Upland'
                    };
                    return `<span class="type-badge ${type}">${typeNames[type]}</span>`;
                }).join('');
                
                return `
                    <div class="directory-item">
                        <div class="directory-item-name">${barangay.name}</div>
                        <div class="directory-item-types">
                            ${typeBadges}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterDirectoryByArea(areaType) {
            renderDirectory(areaType);
        }

        function toggleMobileMenu() {
            mobileNavMenu.classList.toggle('active');
        }

        function closeMobileMenu() {
            mobileNavMenu.classList.remove('active');
        }

        // Load barangays data from JSON and update materials based on selection
        async function loadBarangaysData() {
            try {
                const response = await fetch('data/barangays.json');
                const barangaysData = await response.json();
                return barangaysData;
            } catch (error) {
                console.error('Error loading barangays data:', error);
                return null;
            }
        }

        // Update materials based on selected barangay's system recommendations
        function updateMaterialsForBarangay(barangay, barangaysFullData) {
            if (!barangay) return;
            
            // Check if barangay has specific material overrides
            if (barangayMaterialOverrides[barangay.name]) {
                const overrides = barangayMaterialOverrides[barangay.name];
                
                // Apply overrides to materials data
                Object.keys(overrides).forEach(materialType => {
                    if (materialsData[materialType] && materialsData[materialType][0]) {
                        const override = overrides[materialType];
                        // Update the first material with override data
                        materialsData[materialType][0].name = override.name;
                        materialsData[materialType][0].applicableHazards = override.applicableHazards;
                        materialsData[materialType][0].pros = override.pros;
                        materialsData[materialType][0].cons = override.cons;
                        
                        // Add description if provided
                        if (override.description) {
                            materialsData[materialType][0].description = override.description;
                        }
                    }
                });
                return;
            }
            
            // For barangays with full system data in barangays.json
            if (!barangaysFullData || !Array.isArray(barangaysFullData)) return;
            
            // Find the full barangay data with system recommendations
            const fullBarangayData = barangaysFullData.find(b => b.name === barangay.name);
            if (!fullBarangayData) return;
            
            // Map component types to material category names
            const componentToMaterialMap = {
                'floors': 'floor',
                'foundation': 'foundation',
                'walls': 'wall',
                'roof': 'roof',
                'columns': 'column',
                'beam': 'beam',
                'structural_members': 'beam'
            };
            
            // Find the system recommendations (e.g., bentuco_system, beriran_system, etc.)
            // Generate the expected system key from the barangay name
            const systemKeyCandidates = [
                Object.keys(fullBarangayData).find(key => key.endsWith('_system')), // Try to find any *_system key
                barangay.name.toLowerCase().replace(/\s+/g, '_') + '_system', // Try formatted name
            ];
            
            let systemKey = null;
            let system = null;
            
            for (let candidate of systemKeyCandidates) {
                if (candidate && fullBarangayData[candidate]) {
                    systemKey = candidate;
                    system = fullBarangayData[candidate];
                    break;
                }
            }
            
            if (!systemKey || !system || !system.recommended_components) return;
            
            // Update materials data based on barangay recommendations
            Object.keys(componentToMaterialMap).forEach(componentKey => {
                const materialType = componentToMaterialMap[componentKey];
                const recommendedComponent = system.recommended_components[componentKey];
                
                if (recommendedComponent && materialsData[materialType] && materialsData[materialType][0]) {
                    // Update the first material's name to match barangay recommendation
                    materialsData[materialType][0].name = recommendedComponent;
                    
                    // Update description if available
                    if (system.design_approach && materialType === 'floor') {
                        // We can add more detailed descriptions here if needed
                    }
                    
                    // Add barangay-specific hazards if available
                    if (fullBarangayData.hazards && Array.isArray(fullBarangayData.hazards)) {
                        const hazardNames = {
                            'flood': 'Flood',
                            'rain-landslide': 'Rain-Induced Landslide',
                            'storm-surge': 'Storm Surge',
                            'sea-level-rise': 'Sea Level Rise',
                            'earthquake-landslide': 'Earthquake-Induced Landslide',
                            'ground-shaking': 'Ground Shaking',
                            'tsunami': 'Tsunami',
                            'ashfall': 'Ash Fall',
                            'typhoon': 'Typhoon',
                            'soil-erosion': 'Soil Erosion',
                            'drought': 'Drought'
                        };
                        
                        const hazardsList = fullBarangayData.hazards.map(h => hazardNames[h] || h).join(', ');
                        materialsData[materialType][0].applicableHazards = hazardsList;
                    }
                }
            });
        }

        function goToPage(pageName) {
            closeMobileMenu();
            
            // Hide all pages
            document.querySelectorAll('.page-container').forEach(page => {
                page.classList.remove('active');
            });

            // Show the requested page using its ID (e.g., "results" -> "results-page")
            const targetPage = document.getElementById(`${pageName}-page`);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            // When entering the location page, reset the stepper
            if (pageName === 'location') {
                resetSteps();
            }
            
            // When entering the results page, populate the materials based on selected barangay
            if (pageName === 'results') {
                // Load and update materials based on barangay selection
                if (userSelections.barangay) {
                    loadBarangaysData().then(barangaysData => {
                        if (barangaysData) {
                            updateMaterialsForBarangay(userSelections.barangay, barangaysData);
                        }
                    });
                }
                // Ensure the floor tab/details are initialized from data
                showMaterialDetails('floor');
            }
            
            window.scrollTo(0, 0);
        }

        function startBuildingGuide() {
            goToPage('location');
        }

        function showArticleDetail(articleId) {
            const article = articlesData.find(a => a.id === articleId);
            if (!article) return;
            
            // Update the article detail page with content
            document.getElementById('article-detail-title').textContent = article.title;
            document.getElementById('article-detail-category').textContent = article.category;
            document.getElementById('article-detail-img').src = article.image;
            document.getElementById('article-detail-author').textContent = article.author;
            document.getElementById('article-detail-date').textContent = article.date;
            document.getElementById('article-detail-body').innerHTML = article.fullContent;
            
            // Populate recommended articles (other articles excluding current)
            const recommended = articlesData.filter(a => a.id !== articleId);
            const listEl = document.getElementById('recommended-articles-list');
            listEl.innerHTML = recommended.map(a => `
                <div class="recommended-article-item" onclick="showArticleDetail(${a.id})">
                    <div class="recommended-article-image">
                        <img src="${a.image}" alt="${a.title}">
                    </div>
                    <h4 class="recommended-article-headline">${a.title}</h4>
                    <div class="recommended-article-meta">
                        <span class="recommended-article-date">${a.date}</span>
                        <span class="recommended-article-category">${a.category}</span>
                    </div>
                </div>
            `).join('');
            
            // Navigate to article detail page
            goToPage('article-detail');
        }

        function triggerPageTransition(callback) {
            pageTransition.classList.remove('reverse');
            pageTransition.classList.add('active');
            
            setTimeout(() => {
                try {
                    if (callback) callback();
                } catch (e) {
                    console.error('Navigation error:', e);
                } finally {
                    setTimeout(() => {
                        pageTransition.classList.remove('active');
                        pageTransition.classList.add('reverse');
                        
                        setTimeout(() => {
                            pageTransition.classList.remove('reverse');
                        }, 800);
                    }, 300);
                }
            }, 400);
        }

        // NEW AREA SELECTION FUNCTIONS
        function showAreaDetails(areaType) {
            // Remove active class from all tabs
            document.querySelectorAll('.area-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Add active class to clicked tab
            const clickedTab = document.querySelector(`.area-tab[onclick="showAreaDetails('${areaType}')"]`);
            if (clickedTab) {
                clickedTab.classList.add('active');
            }
            
            // Hide all area details
            document.querySelectorAll('.area-details').forEach(details => {
                details.classList.remove('active');
            });
            
            // Show selected area details
            const areaDetails = document.getElementById(`${areaType}-details`);
            if (areaDetails) {
                areaDetails.classList.add('active');
            }
            
            // Scroll to details if on mobile
            if (window.innerWidth < 768) {
                areaDetails.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function selectArea(areaType) {
            userSelections.area = areaType;
            userSelections.barangay = null; // Reset barangay when area changes
            
            // Update tab styling to show selection
            document.querySelectorAll('.area-tab').forEach(tab => {
                tab.classList.remove('selected');
                const indicator = tab.querySelector('.selected-indicator');
                if (indicator) {
                    indicator.remove();
                }
            });
            
            const selectedTab = document.querySelector(`.area-tab[onclick="showAreaDetails('${areaType}')"]`);
            if (selectedTab) {
                selectedTab.classList.add('selected');
                
                // Add a checkmark indicator
                const indicator = document.createElement('div');
                indicator.className = 'selected-indicator';
                indicator.innerHTML = '✓';
                selectedTab.style.position = 'relative';
                selectedTab.appendChild(indicator);
            }
            
            // Filter barangays for this area
            filterBarangaysByArea(areaType);
            
            // (Visual feedback only; advancing to the next step now happens
            //  exclusively via the NEXT button, not automatically.)
            const selectBtn = event.target;
            if (selectBtn && selectBtn.classList.contains('select-area-btn')) {
                const originalText = selectBtn.textContent;
                selectBtn.textContent = '✓ SELECTED!';
                selectBtn.style.background = 'linear-gradient(135deg, var(--success), #66bb6a)';
                selectBtn.disabled = true;
                
                setTimeout(() => {
                    selectBtn.textContent = originalText;
                    selectBtn.style.background = 'linear-gradient(135deg, var(--accent-color), var(--accent-light))';
                    selectBtn.disabled = false;
                }, 1500);
            }
        }

        function filterBarangaysByArea(areaType) {
            const filteredBarangays = allBarangays.filter(barangay => 
                barangay.types.includes(areaType)
            );
            
            renderBarangayList(filteredBarangays);
        }

        function nextStep() {
            // Validate the current step before moving forward
            if (!validateStep(currentStep)) {
                return;
            }

            if (currentStep === 1) {
                // Move from Area → Barangay
                currentStep = 2;
                updateStepDisplay();
            } else if (currentStep === 2) {
                // Move from Barangay → Materials/Results
                currentStep = 3;
                updateStepDisplay();
                showResults();
            } else {
                // Already on results step; just ensure results are shown
                showResults();
            }
        }

        function prevStep() {
            if (currentStep <= 1) return;
            
            currentStep--;
            updateStepDisplay();
        }

        function resetSteps() {
            currentStep = 1;
            userSelections.area = null;
            userSelections.barangay = null;
            userSelections.hazards = [];
            
            // Reset area selection
            document.querySelectorAll('.area-tab').forEach(tab => {
                tab.classList.remove('selected', 'active');
                const indicator = tab.querySelector('.selected-indicator');
                if (indicator) {
                    indicator.remove();
                }
            });
            
            // Reset barangay selection
            document.querySelectorAll('.barangay-result-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            document.getElementById('selected-barangay').classList.remove('active');
            
            // Reset hazards
            document.querySelectorAll('.hazard-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Reset area tabs to show coastal by default
            document.querySelector('.area-tab[onclick="showAreaDetails(\'coastal\')"]').classList.add('active');
            document.querySelectorAll('.area-details').forEach(details => {
                details.classList.remove('active');
            });
            document.getElementById('coastal-details').classList.add('active');
            
            updateStepDisplay();
            renderBarangayList();
        }

        function validateStep(step) {
            switch(step) {
                case 1:
                    if (!userSelections.area) {
                        alert('Please select an area type first');
                        return false;
                    }
                    return true;
                case 2:
                    if (!userSelections.barangay) {
                        alert('Please select a barangay first');
                        return false;
                    }
                    return true;
                case 3:
                    // Step 3 is the materials/results view; no additional input required
                    return true;
                default:
                    return true;
            }
        }

        function updateStepDisplay() {
            const progressWidth = ((currentStep - 1) / (totalSteps - 1)) * 100;
            const progressLine = document.getElementById('progress-line');
            if (progressLine) {
                progressLine.style.width = `${progressWidth}%`;
            }
            
            // Update step indicators (1: Area, 2: Barangay, 3: Results)
            for (let i = 1; i <= totalSteps; i++) {
                const step = document.getElementById(`step-${i}`);
                if (!step) continue;
                step.classList.remove('active', 'completed');
                
                if (i < currentStep) {
                    step.classList.add('completed');
                } else if (i === currentStep) {
                    step.classList.add('active');
                }
            }
            
            // Show/hide step containers (only steps 1 and 2 exist on the location page)
            for (let i = 1; i <= 2; i++) {
                const container = document.getElementById(`step${i}-container`);
                if (!container) continue;
                container.style.display = (currentStep === i) ? 'block' : 'none';
            }
            
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            if (prevBtn) {
                prevBtn.disabled = currentStep === 1;
            }
            
            if (nextBtn) {
                // On step 2 the next action will take the user to results
                nextBtn.textContent = currentStep === 2 ? 'VIEW RESULTS →' : 'NEXT →';
            }
            
            const locationPage = document.getElementById('location-page');
            if (locationPage) {
                window.scrollTo(0, locationPage.offsetTop + 200);
            }
        }

        function renderBarangayList(filteredBarangays = null) {
            const container = document.getElementById('barangay-results');
            const barangaysToDisplay = filteredBarangays || allBarangays;
            
            container.innerHTML = '';
            
            barangaysToDisplay.forEach(barangay => {
                const item = document.createElement('div');
                item.className = 'barangay-result-item';
                item.dataset.barangay = barangay.name;
                item.dataset.types = barangay.types.join(',');
                
                const hazardIcons = barangay.hazards.map(hazard => {
                    const hazardInfo = hazardData.find(h => h.id === hazard);
                    return hazardInfo ? hazardInfo.icon : '';
                }).join(' ');
                
                item.innerHTML = `
                    <div class="barangay-name">${barangay.name}</div>
                    <div class="barangay-type">${barangay.types.join(', ').toUpperCase()}</div>
                    <div style="color: var(--text-muted); font-size: 0.9em; margin: 10px 0; line-height: 1.5;">
                        ${barangay.description}
                    </div>
                    <div class="barangay-hazards">
                        ${barangay.hazards.map(hazard => {
                            const hazardInfo = hazardData.find(h => h.id === hazard);
                            return `<span class="hazard-tag">${hazardInfo ? hazardInfo.name : hazard}</span>`;
                        }).join('')}
                    </div>
                    <div style="margin-top: 10px; color: var(--accent-color); font-size: 1em;">
                        ${hazardIcons}
                    </div>
                `;
                
                item.addEventListener('click', () => selectBarangay(barangay));
                container.appendChild(item);
            });
        }

        function searchBarangays() {
            const searchInput = document.getElementById('barangay-search-input');
            const searchTerm = searchInput.value.toLowerCase();
            const items = document.querySelectorAll('.barangay-result-item');
            
            items.forEach(item => {
                const barangayName = item.dataset.barangay.toLowerCase();
                if (barangayName.includes(searchTerm) || searchTerm === '') {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function selectBarangay(barangay) {
            document.querySelectorAll('.barangay-result-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            const selectedItem = document.querySelector(`.barangay-result-item[data-barangay="${barangay.name}"]`);
            if (selectedItem) {
                selectedItem.classList.add('selected');
            }
            
            userSelections.barangay = barangay;
            
            document.getElementById('selected-barangay-name').textContent = barangay.name;
            document.getElementById('selected-barangay-desc').textContent = `${barangay.description} | Types: ${barangay.types.join(', ')}`;
            document.getElementById('selected-barangay').classList.add('active');
            
            selectedItem.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function renderHazards() {
            const container = document.getElementById('hazard-grid');
            // If the hazard grid is not present (hazard step removed), do nothing
            if (!container) return;
            container.innerHTML = '';
            
            hazardData.forEach(hazard => {
                const card = document.createElement('div');
                card.className = 'hazard-card';
                card.dataset.hazard = hazard.id;
                
                card.innerHTML = `
                    <div class="hazard-icon">${hazard.icon}</div>
                    <div class="hazard-title">
                        <h3>${hazard.name}</h3>
                        <div class="hazard-checkbox"></div>
                    </div>
                    <div class="hazard-description">${hazard.description}</div>
                `;
                
                card.addEventListener('click', () => toggleHazard(hazard.id));
                container.appendChild(card);
            });
        }

        function toggleHazard(hazardId) {
            const card = document.querySelector(`.hazard-card[data-hazard="${hazardId}"]`);
            const index = userSelections.hazards.indexOf(hazardId);
            
            if (index === -1) {
                userSelections.hazards.push(hazardId);
                card.classList.add('selected');
            } else {
                userSelections.hazards.splice(index, 1);
                card.classList.remove('selected');
            }
        }

        function selectCommonHazards() {
            if (!userSelections.barangay) return;
            
            userSelections.hazards = [...userSelections.barangay.hazards];
            
            document.querySelectorAll('.hazard-card').forEach(card => {
                const hazardId = card.dataset.hazard;
                if (userSelections.hazards.includes(hazardId)) {
                    card.classList.add('selected');
                } else {
                    card.classList.remove('selected');
                }
            });
        }

        function showResults() {
            const subtitle = document.getElementById('results-subtitle');
            if (userSelections.barangay) {
                subtitle.textContent = `Recommendations for ${userSelections.barangay.name} (${userSelections.barangay.types.join(', ')} area)`;
            }
            
            goToPage('results');
        }

        function openSearch() {
            searchModal.classList.add('active');
            searchInput.focus();
        }

        function closeSearch() {
            searchModal.classList.remove('active');
            searchInput.value = '';
            searchResults.classList.remove('active');
            searchResults.innerHTML = '';
        }

        function handleSearch() {
            const query = searchInput.value.toLowerCase().trim();
            searchResults.innerHTML = '';
            
            if (query.length < 2) {
                searchResults.classList.remove('active');
                return;
            }
            
            const results = [];
            
            allBarangays.forEach(barangay => {
                if (barangay.name.toLowerCase().includes(query) || 
                    barangay.types.some(type => type.toLowerCase().includes(query))) {
                    results.push({
                        type: 'barangay',
                        name: barangay.name,
                        description: barangay.description,
                        area: barangay.types.join(', ')
                    });
                }
            });
            
            hazardData.forEach(hazard => {
                if (hazard.name.toLowerCase().includes(query) || 
                    hazard.description.toLowerCase().includes(query)) {
                    results.push({
                        type: 'hazard',
                        name: hazard.name,
                        description: hazard.description,
                        icon: hazard.icon
                    });
                }
            });
            
            if (results.length > 0) {
                searchResults.classList.add('active');
                
                results.forEach(result => {
                    const div = document.createElement('div');
                    div.className = 'search-result-item';
                    div.style.cssText = `
                        padding: 15px;
                        margin-bottom: 10px;
                        background: rgba(255,255,255,0.05);
                        border-radius: 10px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                    `;
                    
                    div.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <span style="font-size: 1.2em;">${result.type === 'barangay' ? '📍' : result.icon}</span>
                            <strong style="color: var(--highlight);">${result.name}</strong>
                        </div>
                        <div style="color: var(--text-muted); font-size: 0.9em;">${result.description}</div>
                    `;
                    
                    div.addEventListener('click', () => {
                        if (result.type === 'barangay') {
                            const barangay = allBarangays.find(b => b.name === result.name);
                            if (barangay) {
                                goToPage('location');
                                setTimeout(() => {
                                    selectBarangay(barangay);
                                }, 500);
                            }
                        }
                        closeSearch();
                    });
                    
                    div.addEventListener('mouseenter', () => {
                        div.style.background = 'rgba(216, 113, 99, 0.2)';
                    });
                    
                    div.addEventListener('mouseleave', () => {
                        div.style.background = 'rgba(255,255,255,0.05)';
                    });
                    
                    searchResults.appendChild(div);
                });
            } else {
                searchResults.classList.add('active');
                searchResults.innerHTML = `
                    <div style="text-align: center; color: var(--text-muted); padding: 20px;">
                        No results found for "${query}"
                    </div>
                `;
            }
        }

        searchModal.addEventListener('click', function(e) {
            if (e.target === this) {
                closeSearch();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && searchModal.classList.contains('active')) {
                closeSearch();
            }
        });

        document.addEventListener('click', function(e) {
            if (mobileNavMenu.classList.contains('active') && 
                !e.target.closest('#mobile-nav-menu') && 
                !e.target.closest('.mobile-menu-btn')) {
                closeMobileMenu();
            }
        });

        // Load articles from JSON on page load
        loadArticles();

        // ===== CAROUSEL AND MODAL FUNCTIONS =====

        // Hero Background Carousel
        let carouselIndex = 0;
        const carouselImages = [
            'hero-bg-0',
            'hero-bg-1',
            'hero-bg-2',
            'hero-bg-3',
            'hero-bg-4',
            'hero-bg-5'
        ];

        // Preload carousel images
        const imageUrls = [
            'https://i.imgur.com/QFIsp3V.jpg',
            'https://i.imgur.com/abSZ2J7.jpg',
            'https://i.imgur.com/tKmsAAa.jpg',
            'https://i.imgur.com/V4hg9E9.jpg',
            'https://i.imgur.com/pmcqfsn.jpg',
            'https://i.imgur.com/uF1HGSn.jpg'
        ];

        imageUrls.forEach((url, index) => {
            const img = new Image();
            img.src = url;
        });

        function rotateCarousel() {
            const currentBg = document.getElementById(carouselImages[carouselIndex]);
            const nextIndex = (carouselIndex + 1) % carouselImages.length;
            const nextBg = document.getElementById(carouselImages[nextIndex]);

            if (!currentBg || !nextBg) return; // Safety check

            // Fade out current (1 second fade animation)
            currentBg.classList.remove('active');
            currentBg.classList.add('inactive');

            // Wait for fade animation to complete before showing next
            setTimeout(() => {
                currentBg.classList.remove('inactive');
                nextBg.classList.add('active');
                carouselIndex = nextIndex;
            }, 1000); // Wait for fade out animation to complete (1 second)
        }

        // Initialize: make sure first image is visible
        const firstBg = document.getElementById(carouselImages[0]);
        if (firstBg) {
            firstBg.classList.add('active');
        }

        // Start carousel rotation every 10 seconds (10 seconds display + 1 second fade)
        setInterval(rotateCarousel, 5000);

        // Team Member Modal Functions
        function openTeamModal(teamId) {
            const modal = document.getElementById(`team-modal-${teamId}`);
            if (modal) {
                modal.classList.add('active');
            }
        }

        function closeTeamModal(teamId) {
            const modal = document.getElementById(`team-modal-${teamId}`);
            if (modal) {
                modal.classList.remove('active');
            }
        }

        // Close modal when clicking outside of it
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    const teamId = this.id.replace('team-modal-', '');
                    closeTeamModal(teamId);
                }
            });
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(modal => {
                    const teamId = modal.id.replace('team-modal-', '');
                    closeTeamModal(teamId);
                });
            }
        });
    </script>

    <!-- Footer Section -->
    <footer class="main-footer">
        <div class="footer-content">
            <!-- Left Section: School Info -->
            <div class="footer-section footer-left">
                <h3 class="footer-heading">GUBAT NATIONAL HIGH SCHOOL</h3>
                <p class="footer-text">SCIENCE, TECHNOLOGY, ENGINEERING AND MATHEMATICS</p>
                <p class="footer-text footer-course">STEM 12 - BIXBY</p>
            </div>

            <!-- Middle Section: Quick Links -->
            <div class="footer-section footer-middle">
                <h3 class="footer-heading">QUICK LINKS</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="goToPage('home')">HOME</a></li>
                    <li><a href="#" onclick="goToPage('location')">BUILD GUIDE</a></li>
                    <li><a href="#" onclick="goToPage('education')">LEARN</a></li>
                    <li><a href="#" onclick="goToPage('about')">ABOUT</a></li>
                </ul>
            </div>

            <!-- Right Section: Contact -->
            <div class="footer-section footer-right">
                <h3 class="footer-heading">CONTACT</h3>
                <div class="social-links-footer">
                    <a href="https://www.facebook.com/profile.php?id=61563811030593" target="_blank" class="social-link-footer" title="Facebook">
                        <img src="https://i.imgur.com/ClS4YRj.png" alt="Facebook">
                    </a>
                    <a href="https://www.instagram.com/pugad_ng_mga_bubuyog/" target="_blank" class="social-link-footer" title="Instagram">
                        <img src="https://i.imgur.com/87BpXCc.png" alt="Instagram">
                    </a>
                    <a href="https://github.com/kalopsiology-ui" target="_blank" class="social-link-footer" title="GitHub">
                        <img src="https://i.imgur.com/fTpV7Wm.png" alt="GitHub">
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Animated Conveyor Belt Footer -->
    <div class="conveyor-footer">
        <div class="conveyor-track">
            <div class="conveyor-text">ALL RIGHTS RESERVED 2026 - STEM 12 BIXBY</div>
            <div class="conveyor-text">ALL RIGHTS RESERVED 2026 - STEM 12 BIXBY</div>
            <div class="conveyor-text">ALL RIGHTS RESERVED 2026 - STEM 12 BIXBY</div>
            <div class="conveyor-text">ALL RIGHTS RESERVED 2026 - STEM 12 BIXBY</div>
            <div class="conveyor-text">ALL RIGHTS RESERVED 2026 - STEM 12 BIXBY</div>
        </div>
    </div>

    <style>
        /* Main Footer Styles */
        .main-footer {
            background: linear-gradient(135deg, #1e2f4f 0%, #3e6778 50%, #1e2f4f 100%);
            color: var(--text-light);
            padding: 50px 20px;
            border-top: 3px solid var(--accent-color);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            align-items: flex-start;
        }

        .footer-section {
            display: flex;
            flex-direction: column;
        }

        .footer-heading {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--highlight);
            margin-bottom: 15px;
            font-family: var(--rockwell-font);
            letter-spacing: 1px;
        }

        .footer-text {
            color: var(--text-muted);
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .footer-course {
            color: var(--accent-light);
            font-weight: 600;
            font-size: 1.05em;
            margin-top: 5px;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.95em;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .footer-links a:hover {
            color: var(--highlight);
            transform: translateX(5px);
        }

        .social-links-footer {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .social-link-footer {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .social-link-footer:hover {
            background: rgba(229, 196, 138, 0.2);
            border-color: var(--highlight);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(229, 196, 138, 0.3);
        }

        .social-link-footer img {
            width: 28px;
            height: 28px;
            object-fit: contain;
        }

        /* Conveyor Belt Footer Styles */
        .conveyor-footer {
            width: 100%;
            background: linear-gradient(90deg, #2196F3 0%, #64B5F6 50%, #2196F3 100%);
            padding: 20px 0;
            margin-top: 0;
            overflow: hidden;
            position: relative;
            box-shadow: 0 -4px 15px rgba(33, 150, 243, 0.3);
        }

        .conveyor-track {
            display: flex;
            animation: conveyor-scroll 40s linear infinite;
            gap: 80px;
        }

        .conveyor-text {
            font-size: 1.4em;
            font-weight: 700;
            font-style: italic;
            color: white;
            white-space: nowrap;
            font-family: Arial, sans-serif;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            flex-shrink: 0;
        }

        @keyframes conveyor-scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-20%);
            }
        }

        @media (max-width: 768px) {
            .main-footer {
                padding: 40px 15px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 30px;
                text-align: center;
            }

            .footer-heading {
                font-size: 1.1em;
            }

            .footer-text {
                font-size: 0.9em;
            }

            .footer-links a {
                font-size: 0.9em;
            }

            .footer-links a:hover {
                transform: none;
            }

            .social-links-footer {
                justify-content: center;
            }

            .conveyor-footer {
                padding: 15px 0;
            }

            .conveyor-text {
                font-size: 1em;
                letter-spacing: 1.5px;
                gap: 60px;
            }

            .conveyor-track {
                animation: conveyor-scroll 30s linear infinite;
                gap: 60px;
            }
        }

        @media (max-width: 480px) {
            .main-footer {
                padding: 30px 12px;
            }

            .footer-heading {
                font-size: 1em;
            }

            .footer-text {
                font-size: 0.85em;
            }

            .social-link-footer {
                width: 45px;
                height: 45px;
            }

            .social-link-footer img {
                width: 24px;
                height: 24px;
            }

            .conveyor-footer {
                padding: 12px 0;
            }

            .conveyor-text {
                font-size: 0.85em;
                letter-spacing: 1px;
            }

            .conveyor-track {
                gap: 50px;
                animation: conveyor-scroll 25s linear infinite;
            }
        }
    </style>
</body>
</html>